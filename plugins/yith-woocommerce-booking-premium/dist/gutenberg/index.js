(()=>{var e,t={701:(e,t,o)=>{"use strict";const r=window.wp.blocks,n=window.wp.i18n,l=window.wp.element,c=(0,l.createElement)("svg",null,(0,l.createElement)("path",{width:"22",height:"22",d:"M 18.24 7.628 C 17.291 8.284 16.076 8.971 14.587 9.688 C 15.344 7.186 15.765 4.851 15.849 2.684 C 15.912 0.939 15.133 0.045 13.514 0.003 C 11.558 -0.06 10.275 1.033 9.665 3.284 C 10.007 3.137 10.359 3.063 10.723 3.063 C 11.021 3.063 11.267 3.184 11.459 3.426 C 11.651 3.668 11.736 3.947 11.715 4.262 C 11.695 5.082 11.276 5.961 10.46 6.896 C 9.644 7.833 8.918 8.3 8.282 8.3 C 7.837 8.3 7.625 7.922 7.646 7.165 C 7.667 6.765 7.804 5.955 8.056 4.735 C 8.287 3.579 8.403 2.801 8.403 2.401 C 8.403 1.707 8.224 1.144 7.867 0.713 C 7.509 0.282 6.994 0.098 6.321 0.161 C 5.858 0.203 5.175 0.624 4.27 1.422 C 3.596 2.035 2.923 2.644 2.25 3.254 L 2.976 4.106 C 3.564 3.664 3.922 3.443 4.048 3.443 C 4.448 3.443 4.637 3.717 4.617 4.263 C 4.617 4.306 4.427 4.968 4.049 6.251 C 3.671 7.534 3.471 8.491 3.449 9.122 C 3.407 9.985 3.565 10.647 3.924 11.109 C 4.367 11.677 5.106 11.919 6.142 11.835 C 7.366 11.751 8.591 11.298 9.816 10.479 C 10.323 10.142 10.808 9.753 11.273 9.311 C 11.105 10.153 10.905 10.868 10.673 11.457 C 8.402 12.487 6.762 13.37 5.752 14.107 C 4.321 15.137 3.554 16.241 3.449 17.419 C 3.259 19.459 4.29 20.479 6.541 20.479 C 8.055 20.479 9.517 19.554 10.926 17.703 C 12.125 16.126 13.166 14.022 14.049 11.394 C 15.578 10.635 16.87 9.892 17.928 9.164 C 17.894 9.409 18.319 7.308 18.24 7.628 Z  M 7.393 16.095 C 7.056 16.095 6.898 15.947 6.919 15.653 C 6.961 15.106 7.908 14.38 9.759 13.476 C 8.791 15.221 8.002 16.095 7.393 16.095 Z"})),a=window.wp.components,s=window.wp.blockEditor,i=window.wp.url;var d=o(697),u=o.n(d);const m=window.wp.compose,h=window.React,b=window.wp.apiFetch;var p=o.n(b);const g=window.lodash,y=e=>{let{queryArgs:t={},...o}=e;return t.type="booking",(e=>{let{selected:t=[],search:o="",queryArgs:r={}}=e;const n=(e=>{let{selected:t=[],search:o="",queryArgs:r={}}=e;const n=bkBlocks.productCount>100,l={per_page:n?100:0,catalog_visibility:"any",search:o,orderby:"title",order:"asc"},c=[(0,i.addQueryArgs)("/wc/store/products",{...l,...r})];return n&&t.length&&c.push((0,i.addQueryArgs)("/wc/store/products",{catalog_visibility:"any",include:t,per_page:0})),c})({selected:t,search:o,queryArgs:r});return Promise.all(n.map((e=>p()({path:e})))).then((e=>(0,g.uniqBy)((0,g.flatten)(e),"id").map((e=>({...e,parent:0}))))).catch((e=>{throw e}))})({...o,queryArgs:t})};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},f.apply(this,arguments)}const k=e=>t=>{let{selected:o,asyncSearch:r,loadItems:n,queryArgs:c,...a}=t;const[s,i]=(0,h.useState)(!0),[d,u]=(0,h.useState)(!0),[b,p]=(0,h.useState)([]),[g,y]=(0,h.useState)(""),k=(0,m.useDebounce)((e=>{n({selected:o,search:e,queryArgs:c||{}}).then((e=>{p(e),i(!1),u(!1)}))}),300);return r&&(0,h.useEffect)((()=>{i(!0),k(g)}),[g]),(0,h.useEffect)((()=>{i(!0);let e={...c||{}};r&&(e.limit=20),n({selected:o,queryArgs:e}).then((e=>{p(e),i(!1),u(!1)}))}),[]),(0,l.createElement)(e,f({selected:o},a,{search:g,onSearch:y,isLoading:s,ifFirstLoading:d,list:b}))},w={clear:(0,n.__)("Clear all","yith-booking-for-woocommerce"),noItems:(0,n.__)("No items found.","yith-booking-for-woocommerce"),noResults:(0,n.__)("No results for %s","yith-booking-for-woocommerce"),search:(0,n.__)("Search for items","yith-booking-for-woocommerce"),selected:e=>(0,n.sprintf)(
// translators: Number of items selected from list.
(0,n._n)("%d item selected","%d items selected",e,"yith-booking-for-woocommerce"),e)},_=e=>{let{className:t,search:o,onSearch:r,onChange:c,selected:s,isLoading:i,list:d,ifFirstLoading:u,messages:m}=e;const[b,p]=(0,h.useState)(!1),g=(0,h.useRef)(),y=(0,h.useRef)(),f={...w,...m},k=e=>{y.current.contains(e.target)||p(!1)};(0,h.useEffect)((()=>(document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k))));const _=d.filter((e=>s.includes(e.id))),v=d.filter((e=>e.name.toLowerCase().indexOf(o.toLowerCase())>=0)),C=e=>{const t=[...s].filter((t=>t!==e));c(t)};return(0,l.createElement)("div",{className:"yith-wcbk-search-list-control"},(0,l.createElement)("div",{className:"yith-wcbk-search-list-control__selected-header"},u?(0,l.createElement)(a.Spinner,null):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"yith-wcbk-search-list-control__selected-header__count"},f.selected(_.length)),(0,l.createElement)(a.Button,{isLink:!0,onClick:()=>{c([])}},f.clear))),(0,l.createElement)("div",{className:"yith-wcbk-search-list-control__selected-items"},_.map((e=>(0,l.createElement)("span",{key:e.id,className:"yith-wcbk-search-list-control__selected-item"},e.name,(0,l.createElement)("span",{className:"yith-wcbk-search-list-control__selected-item__remove yith-icon yith-icon-close",onClick:()=>{C(e.id)}}))))),(0,l.createElement)("div",{className:"yith-wcbk-search-list-control__search-and-suggestions",ref:y},(0,l.createElement)("input",{ref:g,className:"yith-wcbk-search-list-control__search",value:o,onChange:e=>r(e.target.value),onFocus:()=>p(!0),placeholder:f.search}),b&&(0,l.createElement)("div",{className:`yith-wcbk-search-list-control__suggestions ${i&&"loading"} ${!v.length&&"no-results"}`},i?(0,l.createElement)("div",{className:"yith-wcbk-search-list-control__suggestions__message"},(0,n.__)("Loading...","yith-booking-for-woocommerce")):v.length?v.map((e=>{const t=s.includes(e.id),o=t?"selected":"";return(0,l.createElement)("span",{key:e.id,className:`yith-wcbk-search-list-control__suggestion ${o}`,onClick:()=>{var o;t||(o=e.id,c([...s,o]),g.current.focus())}},e.name,t&&(0,l.createElement)("span",{className:"yith-wcbk-search-list-control__suggestion__remove yith-icon yith-icon-close",onClick:()=>{C(e.id)}}))})):(0,l.createElement)("div",{className:"yith-wcbk-search-list-control__suggestions__message"},d.length&&o?(0,n.sprintf)(f.noResults,o):f.noItems))))};_.propTypes={className:u().string,isLoading:u().bool,list:u().arrayOf(u().shape({id:u().number,name:u().string})),messages:u().shape({clear:u().string,noItems:u().string,noResults:u().string,search:u().string,selected:u().func}),onChange:u().func.isRequired,onSearch:u().func,selected:u().array.isRequired,search:u().string,ifFirstLoading:u().bool},_.defaultProps={selected:[],className:"",list:[],onSearch:()=>{},isLoading:!1,ifFirstLoading:!1};const v=k(_),C=e=>{let{label:t,className:o,onChange:r,selected:c}=e;const s=bkBlocks.productCount>100,i=`inspector-yith-wcbk-products-control-${(0,m.useInstanceId)(C)}`;return(0,l.createElement)(a.BaseControl,{label:t,id:i,className:`yith-wcbk-products-control__wrap ${o}`},(0,l.createElement)(v,{messages:{clear:(0,n.__)("Clear all","yith-booking-for-woocommerce"),noItems:(0,n.__)("No products found.","yith-booking-for-woocommerce"),noResults:(0,n.__)("No results for %s","yith-booking-for-woocommerce"),search:(0,n.__)("Search products...","yith-booking-for-woocommerce"),selected:e=>(0,n.sprintf)(
// translators: Number of products selected from list.
(0,n._n)("%d product selected","%d products selected",e,"yith-booking-for-woocommerce"),e)},onChange:r,selected:c,loadItems:y,asyncSearch:s}))};C.propTypes={onChange:u().func.isRequired,selected:u().array},C.defaultProps={selected:[],label:"",className:""};const E=C,B=e=>{let{selected:t=[],search:o="",queryArgs:r={}}=e;const n=(e=>{let{selected:t=[],search:o="",queryArgs:r={}}=e;const n=bkBlocks.categoryCount>100,l={per_page:n?100:0,hide_empty:!0,search:o,orderby:"name",order:"asc"},c=[(0,i.addQueryArgs)("/wc/store/products/categories",{...l,...r})];return n&&t.length&&c.push((0,i.addQueryArgs)("/wc/store/products/categories",{hide_empty:!0,include:t,per_page:0})),c})({selected:t,search:o,queryArgs:r});return Promise.all(n.map((e=>p()({path:e})))).then((e=>(0,g.uniqBy)((0,g.flatten)(e),"id").map((e=>({...e,parent:0}))))).catch((e=>{throw e}))},x=e=>{let{label:t,className:o,onChange:r,selected:c}=e;const s=bkBlocks.categoryCount>100,i=`inspector-yith-wcbk-categories-control-${(0,m.useInstanceId)(x)}`;return(0,l.createElement)(a.BaseControl,{label:t,id:i,className:`yith-wcbk-categories-control__wrap ${o}`},(0,l.createElement)(v,{messages:{clear:(0,n.__)("Clear all","yith-booking-for-woocommerce"),noItems:(0,n.__)("No categories found.","yith-booking-for-woocommerce"),noResults:(0,n.__)("No results for %s","yith-booking-for-woocommerce"),search:(0,n.__)("Search categories...","yith-booking-for-woocommerce"),selected:e=>(0,n.sprintf)(
// translators: Number of products selected from list.
(0,n._n)("%d category selected","%d categories selected",e,"yith-booking-for-woocommerce"),e)},onChange:r,selected:c,loadItems:B,asyncSearch:s}))};x.propTypes={onChange:u().func.isRequired,selected:u().array},x.defaultProps={selected:[],label:"",className:""};const N=x;var T=o(184),S=o.n(T);function P(e){let{className:t,title:o,attributes:r,context:n,block:c}=e;const s=(0,l.useRef)(),[d,u]=(0,l.useState)(!1),m=(0,i.addQueryArgs)(bkBlocks.siteURL,{"yith-wcbk-block-preview":1,"yith-wcbk-block-preview-nonce":bkBlocks.previewNonce,attributes:r,context:n,block:c}),h=S()("yith-wcbk-blocks__edit-preview-iframe",!d&&"yith-wcbk-blocks__edit-preview-iframe--is-loading",t);return(0,l.useEffect)((()=>{u(!1)}),[m]),(0,l.useEffect)((()=>{if(!s||!s.current||!d)return;const e=s.current,t=()=>{const e=s.current,t=Math.max(e.contentDocument.documentElement.offsetHeight,e.contentDocument.body.offsetHeight);e.style.height=`${t}px`},{IntersectionObserver:o,ResizeObserver:r}=e.ownerDocument.defaultView,n=new o((e=>{let[o]=e;o.isIntersecting&&t()}),{threshold:1});n.observe(e);const l=!!r&&new r((()=>t()));return l&&l.observe(e),e.addEventListener("load",t),()=>{n.disconnect(),l&&l.disconnect(),e.removeEventListener("load",t)}}),[d]),(0,l.createElement)(l.Fragment,null,!d&&(0,l.createElement)("div",{className:"yith-wcbk-blocks__edit-preview-iframe__loading-placeholder"},(0,l.createElement)(a.Spinner,{style:{width:28,height:28}})),(0,l.createElement)("iframe",{ref:s,className:h,title:o,src:m,onLoad:e=>{e.target.contentDocument.body.style.overflow="hidden",u(!0)},height:100}))}P.propTypes={className:u().string,title:u().string.isRequired,block:u().string.isRequired,attributes:u().object,context:u().object},P.defaultProps={className:"",attributes:{},context:{}};const R=P,I={type:{type:"string",default:"newest"},columns:{type:"number",default:parseInt(bkBlocks.defaultProductsPerRow,10)},rows:{type:"number",default:1},product_ids:{type:"array",default:[]},categories:{type:"array",default:[]}};bkBlocks.isPremium&&(0,r.registerBlockType)("yith/wcbk-booking-products",{title:(0,n._x)("Bookable Products","Block name","yith-booking-for-woocommerce"),icon:c,category:"yith-blocks",example:{},attributes:I,edit:function(e){let{context:t,attributes:o,className:r,setAttributes:c}=e;const{type:i,columns:d,rows:u,product_ids:m,categories:h}=o;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(a.PanelBody,null,(0,l.createElement)(a.SelectControl,{label:(0,n._x)("Type","Bookable Products block","yith-booking-for-woocommerce"),value:i,onChange:e=>c({type:e}),options:[{label:(0,n._x)("Newest","Bookable Products block types","yith-booking-for-woocommerce"),value:"newest"},{label:(0,n._x)("Hand-picked products","Bookable Products block types","yith-booking-for-woocommerce"),value:"hand-picked"},{label:(0,n._x)("Product categories","Bookable Products block types","yith-booking-for-woocommerce"),value:"categories"},{label:(0,n._x)("Top rated","Bookable Products block types","yith-booking-for-woocommerce"),value:"top-rated"}]})),"hand-picked"===i&&(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Products","Bookable Products block panel title","yith-booking-for-woocommerce")},(0,l.createElement)(E,{selected:m,onChange:e=>{c({product_ids:e})}})),"categories"===i&&(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Categories","Bookable Products block panel title","yith-booking-for-woocommerce")},(0,l.createElement)(N,{selected:h,onChange:e=>{c({categories:e})}})),(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Layout","Bookable Products block panel title","yith-booking-for-woocommerce")},(0,l.createElement)(a.RangeControl,{label:(0,n._x)("Columns","Bookable Products block","yith-booking-for-woocommerce"),value:d,onChange:e=>c({columns:e}),min:1,max:6}),(0,l.createElement)(a.RangeControl,{label:(0,n._x)("Rows","Bookable Products block","yith-booking-for-woocommerce"),value:u,onChange:e=>c({rows:e}),min:1,max:6}))),(0,l.createElement)("div",{className:r},(0,l.createElement)(a.Disabled,null,(0,l.createElement)(R,{className:"yith-wcbk-booking-products-block__edit-preview-iframe",title:(0,n._x)("Bookable Products","Block name","yith-booking-for-woocommerce"),block:"booking-products",attributes:o,context:t}))))},save:()=>null});const O=k((e=>{let{onSearch:t,list:o,selected:r,...n}=e;const c=o.map((e=>({value:e.id,label:e.name})));return(0,l.createElement)(a.ComboboxControl,f({},n,{value:r,options:c,onFilterValueChange:t}))}));function F(e){let{...t}=e;return bkBlocks.productCount,(0,l.createElement)(O,f({},t,{loadItems:y,asyncSearch:!0}))}function A(e){let{className:t,label:o,onChange:r,value:n,help:c,palette:i,clearable:d,defaultValue:u,enableAlpha:h}=e;i=i||(0,s.useSetting)("color.palette");const b=`inspector-yith-wcbk-color-control-${(0,m.useInstanceId)(A)}`;return(0,l.createElement)(a.BaseControl,{id:b,className:S()("block-editor-yith-wcbk-color-control",t),help:c},(0,l.createElement)(a.Dropdown,{className:"block-editor-yith-wcbk-color-control__dropdown",popoverProps:{position:"bottom center"},renderToggle:e=>{let{onToggle:t,isOpen:r}=e;const c=S()("block-editor-yith-wcbk-color-control__toggle",{"is-open":r});return(0,l.createElement)("div",{className:c,onClick:t},(0,l.createElement)("label",{className:"block-editor-yith-wcbk-color-control__label"},o),(0,l.createElement)(a.ColorIndicator,{className:"block-editor-yith-wcbk-color-control__color-indicator",colorValue:n}))},renderContent:e=>{let{onClose:t}=e;const o=e=>{r(e),void 0===e&&t()};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.ColorPicker,{color:n,onChange:o,colors:i,clearable:!1,defaultValue:u,enableAlpha:h}),(0,l.createElement)(a.ColorPalette,{colors:i,value:n,clearable:d,onChange:o,disableCustomColors:!0}))}}))}const L=(0,h.forwardRef)(((e,t)=>{let{type:o,value:r,onChange:n,startAdornment:c,endAdornment:a,className:s,...i}=e;const[d,u]=(0,h.useState)(!1),m=S()("yith-wcbk-components-input",{"is-focused":d},s);return(0,l.createElement)("div",{className:m},c,(0,l.createElement)("input",f({},i,{ref:t,className:"yith-wcbk-components-input__field",type:o,value:r,onChange:e=>{let t=e.target.value;n(t)},onFocus:()=>u(!0),onBlur:()=>u(!1),autoComplete:"off"})),a,(0,l.createElement)("span",{className:"yith-wcbk-components-input__backdrop"}))}));L.displayName="Input",L.propTypes={className:u().string,type:u().string,value:u().oneOfType([u().string,u().number]),onChange:u().func,startAdornment:u().oneOfType([u().element,u().string]),endAdornment:u().oneOfType([u().element,u().string])},L.defaultProps={className:"",type:"text",value:"",onChange:g.noop};const q=L;function D(e){let{className:t,label:o,onChange:r,value:n,help:c,isCompact:s}=e;const i=`inspector-yith-wcbk-unit-control-${(0,m.useInstanceId)(D)}`;return(0,l.createElement)(a.BaseControl,{id:i,label:o,className:S()("block-editor-yith-wcbk-unit-control",{"is-compact":s},t),help:c},(0,l.createElement)("div",{className:"block-editor-yith-wcbk-unit-control__container"},(0,l.createElement)(q,{type:"number",min:0,value:n,onChange:e=>r(parseFloat(e)),endAdornment:(0,l.createElement)("span",{className:"block-editor-yith-wcbk-unit-control__unit"},"PX")})))}function M(e){let{onChange:t,value:o}=e;const r=(0,s.useSetting)("color.palette");return(0,l.createElement)(a.Dropdown,{className:"block-editor-yith-wcbk-border-control-color-dropdown",renderToggle:e=>{let{onToggle:t,isOpen:r}=e;const n=S()("block-editor-yith-wcbk-border-control-color-dropdown__toggle",{"is-open":r});return(0,l.createElement)(a.Button,{className:n,onClick:t,variant:"tertiary"},(0,l.createElement)(a.ColorIndicator,{className:"block-editor-yith-wcbk-border-control-color-dropdown__color-indicator",colorValue:o}))},renderContent:e=>{let{onClose:n}=e;const c=e=>{t(e),void 0===e&&n()};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.ColorPicker,{color:o,onChange:c,colors:r,clearable:!1,enableAlpha:!0}),(0,l.createElement)(a.ColorPalette,{colors:r,value:o,clearable:!1,onChange:c,disableCustomColors:!0}))}})}const j=window.wp.primitives,H=(0,l.createElement)(j.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(j.Path,{d:"M5 11.25h14v1.5H5z"})),V=(0,l.createElement)(j.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(j.Path,{fillRule:"evenodd",d:"M5 11.25h3v1.5H5v-1.5zm5.5 0h3v1.5h-3v-1.5zm8.5 0h-3v1.5h3v-1.5z",clipRule:"evenodd"})),$=(0,l.createElement)(j.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(j.Path,{fillRule:"evenodd",d:"M5.25 11.25h1.5v1.5h-1.5v-1.5zm3 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5zm1.5 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5z",clipRule:"evenodd"})),z=[{label:(0,n._x)("Solid","Border style","yith-booking-for-woocommerce"),icon:H,value:"solid"},{label:(0,n._x)("Dashed","Border style","yith-booking-for-woocommerce"),icon:V,value:"dashed"},{label:(0,n._x)("Dotted","Border style","yith-booking-for-woocommerce"),icon:$,value:"dotted"}];function W(e){let{onChange:t,value:o}=e;const r=z.find((e=>e.value===o));return(0,l.createElement)(a.Dropdown,{className:"block-editor-yith-wcbk-border-control-style-dropdown",focusOnMount:!0,renderToggle:e=>{let{onToggle:t,isOpen:o}=e;const n=S()("block-editor-yith-wcbk-border-control-style-dropdown__toggle",{"is-open":o});return(0,l.createElement)(a.Button,{className:n,onClick:t,icon:r.icon,"aria-label":r.label,label:r.label,showTooltip:!0,variant:"tertiary"})},renderContent:e=>{let{onClose:r}=e;return(0,l.createElement)(l.Fragment,null,z.map((e=>(0,l.createElement)(a.Button,{key:e.value,onClick:()=>{return o=e.value,t(o),void r();var o},icon:e.icon,"aria-label":e.label,label:e.label,showTooltip:!0,isPressed:e.value===o}))))}})}function U(e){let{onChange:t,value:o}=e;return(0,l.createElement)(q,{type:"number",min:"0",value:o,onChange:t,endAdornment:(0,l.createElement)("span",{className:"block-editor-yith-wcbk-border-control-width-input__unit"},"PX")})}function Q(e){let{className:t,label:o,onChange:r,value:n,help:c}=e;const s=`inspector-yith-wcbk-border-control-${(0,m.useInstanceId)(Q)}`,{color:i,style:d,width:u,radius:h}=n;return(0,l.createElement)(a.BaseControl,{id:s,label:o,className:S()("block-editor-yith-wcbk-border-control",t)},(0,l.createElement)("div",{className:"block-editor-yith-wcbk-border-control__container"},(0,l.createElement)(M,{value:i,onChange:e=>r({...n,color:e})}),(0,l.createElement)(W,{value:d,onChange:e=>r({...n,style:e})}),(0,l.createElement)(U,{value:u,onChange:e=>r({...n,width:e})})))}function G(e){let{initialOpen:t,styles:o,onChange:r}=e;const{textColor:c,backgroundColor:s,padding:i,border:d,borderRadius:u}=o,m=e=>{r({...o,...e})};return(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Style","Blocks - title","yith-booking-for-woocommerce"),initialOpen:t},(0,l.createElement)(A,{label:(0,n.__)("Text color","yith-booking-for-woocommerce"),value:c,onChange:e=>m({textColor:e}),isRenderedInSidebar:!0,defaultValue:"#000000",enableAlpha:!0,clearable:!1}),(0,l.createElement)(A,{label:(0,n.__)("Background color","yith-booking-for-woocommerce"),value:s,onChange:e=>m({backgroundColor:e}),isRenderedInSidebar:!0,defaultValue:"#ffffff",enableAlpha:!0,clearable:!1}),(0,l.createElement)(D,{label:(0,n.__)("Padding","yith-booking-for-woocommerce"),onChange:e=>m({padding:e}),value:i,isCompact:!0}),(0,l.createElement)(Q,{label:(0,n.__)("Border","yith-booking-for-woocommerce"),onChange:e=>m({border:e}),value:d}),(0,l.createElement)(D,{label:(0,n.__)("Border radius","yith-booking-for-woocommerce"),onChange:e=>m({borderRadius:e}),value:u,isCompact:!0}))}Q.defaultProps={className:"",label:"",value:{color:"#ddd",style:"solid",width:0,radius:0}};const X={attributes:{product_id:{type:"number",default:0},show_title:{type:"boolean",default:!1},title_tag:{type:"string",default:"h2"},show_reviews:{type:"boolean",default:!0},show_meta:{type:"boolean",default:!1},use_full_width_button:{type:"boolean",default:!0},text_color:{type:"string",default:"#000000"},background_color:{type:"string",default:"#ffffff"},padding:{type:"number",default:0}},migrate(e){const{product_id:t,show_title:o,title_tag:r,show_reviews:n,show_meta:l,use_full_width_button:c,text_color:a,background_color:s,padding:i}=e;return{productId:t,showTitle:o,titleTag:r,showReviews:n,showMeta:l,useFullWidthButton:c,textColor:a,backgroundColor:s,padding:i}},isEligible:e=>{const t=Object.keys((0,g.omit)(X.attributes,"padding"));return(0,g.intersection)(Object.keys(e),t).length>0},save:()=>null},Z=[X];(0,r.registerBlockType)("yith/wcbk-booking-form",{title:(0,n._x)("Booking form","Block name","yith-booking-for-woocommerce"),icon:c,category:"yith-blocks",example:{},attributes:{productId:{type:"number",default:0},showTitle:{type:"boolean",default:!1},titleTag:{type:"string",default:"h2"},showReviews:{type:"boolean",default:!0},showMeta:{type:"boolean",default:!1},useFullWidthButton:{type:"boolean",default:!0},textColor:{type:"string",default:"#000000"},backgroundColor:{type:"string",default:"#ffffff"},padding:{type:"number",default:20},border:{type:"object",default:{color:"#cccccc",style:"solid",width:0}},borderRadius:{type:"number",default:0}},deprecated:Z,edit:function(e){let{context:t,attributes:o,className:r,setAttributes:c}=e;const{productId:i,showTitle:d,titleTag:u,showReviews:m,showMeta:h,useFullWidthButton:b,textColor:p,backgroundColor:g,padding:y,border:f,borderRadius:k}=o;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Product","Blocks - title","yith-booking-for-woocommerce")},(0,l.createElement)(F,{selected:i,onChange:e=>c({productId:e})})),(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Elements","Blocks - title","yith-booking-for-woocommerce")},(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Show title","yith-booking-for-woocommerce"),checked:!!d,onChange:e=>c({showTitle:e}),help:(0,n.__)("Enable to show the product title.","yith-booking-for-woocommerce")}),!!d&&(0,l.createElement)(a.SelectControl,{label:(0,n.__)("Title heading tag","yith-booking-for-woocommerce"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}],value:u,onChange:e=>c({titleTag:e}),help:(0,n.__)("Choose the HTML tag to use for the product title.","yith-booking-for-woocommerce")}),(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Show rating","yith-booking-for-woocommerce"),checked:!!m,onChange:e=>c({showReviews:e}),help:(0,n.__)("Enable to show the product rating.","yith-booking-for-woocommerce")}),(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Show meta","yith-booking-for-woocommerce"),checked:!!h,onChange:e=>c({showMeta:e}),help:(0,n.__)("Enable to show the meta section, containing SKU, categories and tags.","yith-booking-for-woocommerce")}),(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Use full-width button","yith-booking-for-woocommerce"),checked:!!b,onChange:e=>c({useFullWidthButton:e})})),(0,l.createElement)(G,{initialOpen:!1,styles:{textColor:p,backgroundColor:g,padding:y,border:f,borderRadius:k},onChange:e=>c(e)})),(0,l.createElement)("div",{className:r},(0,l.createElement)(a.Disabled,null,(0,l.createElement)(R,{className:"yith-wcbk-booking-form-block__edit-preview-iframe",title:(0,n._x)("Booking Form","Block name","yith-booking-for-woocommerce"),block:"booking-form",attributes:o,context:t}))))},save:()=>null}),(0,r.registerBlockType)("yith/wcbk-bookable-product-form",{title:(0,n._x)("Bookable product form","Block name","yith-booking-for-woocommerce"),icon:c,category:"yith-blocks",example:{},attributes:{showReviews:{type:"boolean",default:!0},useFullWidthButton:{type:"boolean",default:!0},isFixedOnMobile:{type:"boolean",default:!0},textColor:{type:"string",default:"#000000"},backgroundColor:{type:"string",default:"#ffffff"},padding:{type:"number",default:20},border:{type:"object",default:{color:"#cccccc",style:"solid",width:0}},borderRadius:{type:"number",default:0}},edit:function(e){let{context:t,attributes:o,className:r,setAttributes:c}=e;const{isFixedOnMobile:i,showReviews:d,useFullWidthButton:u,textColor:m,backgroundColor:h,padding:b,border:p,borderRadius:g}=o,{postType:y,templateSlug:f}=t,[k,w]=(0,l.useState)(!1),_=(0,l.useMemo)((()=>"product"!==y&&!f&&!k),[f,y,k]);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(a.PanelBody,{title:(0,n._x)("Layout","Blocks - title","yith-booking-for-woocommerce")},(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Show rating","yith-booking-for-woocommerce"),checked:!!d,onChange:e=>c({showReviews:e})}),(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Use full-width button","yith-booking-for-woocommerce"),checked:!!u,onChange:e=>c({useFullWidthButton:e})}),(0,l.createElement)(a.ToggleControl,{label:(0,n.__)("Use compact view on mobile","yith-booking-for-woocommerce"),checked:!!i,onChange:e=>c({isFixedOnMobile:e})})),(0,l.createElement)(G,{initialOpen:!0,styles:{textColor:m,backgroundColor:h,padding:b,border:p,borderRadius:g},onChange:e=>c(e)})),(0,l.createElement)("div",{className:r},_&&(0,l.createElement)(a.Notice,{isDismissible:!0,onDismiss:()=>w(!0),status:"warning"},(0,l.createElement)("div",null,(0,n.__)("This block will render the current product's booking form, so you should use it on single product pages or in a template rendered on the single product pages.","yith-booking-for-woocommerce")),(0,l.createElement)("div",null,(0,n.__)('If you are using it on a page/post and you want to show a specific product\'s booking form, please consider using the "Booking form" block instead.',"yith-booking-for-woocommerce"))),(0,l.createElement)(a.Disabled,null,(0,l.createElement)(R,{className:"yith-wcbk-booking-form-block__edit-preview-iframe",title:(0,n._x)("Bookable product form","Block name","yith-booking-for-woocommerce"),block:"bookable-product-form",attributes:o,context:t}))))},usesContext:["postId","postType","templateSlug"],save:()=>null});const K=window.yithBookingUI.components;var Y,J;window?.bkBlocks?.postTypes;const ee=null!==(Y=window?.bkBlocks?.postTypeRestBases)&&void 0!==Y?Y:{},te=null!==(J=window?.bkBlocks?.postTypeCounts)&&void 0!==J?J:{},oe=e=>{var t;return(null!==(t=te[e])&&void 0!==t?t:101)>100},re={},ne={},le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{postType:t="post"}=e,o=(e=>{let{postType:t="post",selected:o=[],search:r="",limit:n,onlySelected:l=!1}=e;const c=[],a=(e=>{var t;return`/wp/v2/${null!==(t=ee[e])&&void 0!==t?t:"posts"}`})(t);return l||c.push((0,i.addQueryArgs)(a,{per_page:null!=n?n:100,search:r,orderby:"title",order:"asc",_fields:["id","title"]})),oe(t)&&o.length&&c.push((0,i.addQueryArgs)(a,{type:"booking",include:o,per_page:100,_fields:["id","title"]})),c})(e),r=!(oe(t)||e?.search||e?.onlySelected||e?.limit);if(r){if(re[t])return new Promise((e=>{e(re[t])}));if(ne[t])return ne[t]}const n=Promise.all(o.map((e=>p()({path:e})))).then((e=>{const o=(0,g.uniqBy)((0,g.flatten)(e),"id").map((e=>({...e,title:e.title.rendered})));return r&&(re[t]=o),o})).catch((e=>{throw e}));return r&&(ne[t]=n),n};function ce(e){let{value:t,onChange:o,postType:r,...c}=e;const[a,s]=(0,h.useState)(!0),[i,d]=(0,h.useState)(!0),[u,m]=(0,h.useState)([]),[b,p]=(0,h.useState)(""),g=(0,h.useRef)(null),y=(0,h.useMemo)((()=>a?"":b?(0,n.sprintf)((0,n.__)('No results for "%s".',"yith-booking-for-woocommerce"),b):(0,n.__)("Type to search...","yith-booking-for-woocommerce")),[b,a]);(0,h.useEffect)((()=>{var e;oe(r)&&!i&&b&&(s(!0),e=b,g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{le({postType:r,selected:[t],search:e}).then((e=>{m(e),s(!1),d(!1)}))}),300))}),[b]),(0,h.useEffect)((()=>{if(t||!oe(r)){const e={postType:r,selected:[t],onlySelected:oe(r)};oe(r)&&(e.limit=20),le(e).then((e=>{m(e),s(!1),d(!1)}))}else s(!1),d(!1)}),[]);const k=u.map((e=>({value:e.id,label:e.title})));return(0,l.createElement)(K.Select,f({},c,{options:k,isLoading:a,allowSearch:!0,onSearch:e=>p(e),loadingText:(0,n.__)("Searching...","yith-booking-for-woocommerce"),noOptionsText:y,noResultsText:y,value:t,onChange:o}))}const ae=(0,n._x)("Booking Search Form","Block name","yith-booking-for-woocommerce"),se=(0,n._x)("Render a search form to allow customers to search for bookable products.","Block description","yith-booking-for-woocommerce");bkBlocks.isSearchFormModuleActive&&(0,r.registerBlockType)("yith/wcbk-search-form",{title:ae,description:se,icon:c,category:"yith-blocks",attributes:{searchFormId:{type:"number",default:0}},edit:function(e){var t;let{context:o,attributes:r,className:i,setAttributes:d}=e;const u=parseInt(null!==(t=r?.searchFormId)&&void 0!==t?t:0,10),[m,b]=(0,h.useState)(!u),p=e=>{e?d({searchFormId:e}):(b(!0),d({searchFormId:0}))};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.BlockControls,null,(0,l.createElement)(a.ToolbarGroup,{controls:[{icon:"edit",title:(0,n.__)("Edit selected search form","yith-booking-for-woocommerce"),onClick:()=>b((e=>!e)),isActive:m}]})),(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(a.PanelBody,{title:(0,n.__)("Search Form","yith-booking-for-woocommerce")},(0,l.createElement)(a.BaseControl,{label:(0,n.__)("Select the search form","yith-booking-for-woocommerce")},(0,l.createElement)(ce,{postType:"searchForm",value:u,onChange:e=>p(e),width:"100%"})))),(0,l.createElement)("div",{className:i},m?(0,l.createElement)(a.Placeholder,{icon:c,label:ae,instructions:se},(0,l.createElement)("div",{className:"yith-wcbk-search-form-block__search-form-selection"},(0,l.createElement)("div",{className:"yith-wcbk-search-form-block__search-form-selection__control"},(0,l.createElement)("div",{className:"yith-wcbk-search-form-block__search-form-selection__control__label"},(0,n.__)("Select the search form you want to display","yith-booking-for-woocommerce")),(0,l.createElement)("div",{className:"yith-wcbk-search-form-block__search-form-selection__control__field"},(0,l.createElement)(ce,{postType:"searchForm",value:u,onChange:e=>p(e),width:"100%"}))),(0,l.createElement)(a.Button,{isPrimary:!0,onClick:()=>b(!1)},(0,n.__)("Done","yith-booking-for-woocommerce")))):(0,l.createElement)(a.Disabled,null,(0,l.createElement)(R,{className:"yith-wcbk-search-form-block__edit-preview-iframe",title:ae,block:"search-form",attributes:r,context:o}))))},usesContext:["postId","postType","templateSlug"],save:()=>null})},184:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)){if(o.length){var c=n.apply(null,o);c&&e.push(c)}}else if("object"===l){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var a in o)r.call(o,a)&&o[a]&&e.push(a)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},703:(e,t,o)=>{"use strict";var r=o(414);function n(){}function l(){}l.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,l,c){if(c!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:n};return o.PropTypes=o,o}},697:(e,t,o)=>{e.exports=o(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,o,n,l)=>{if(!o){var c=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],l=e[d][2];for(var a=!0,s=0;s<o.length;s++)(!1&l||c>=l)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(a=!1,l<c&&(c=l));if(a){e.splice(d--,1);var i=n();void 0!==i&&(t=i)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,n,l]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,46:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,l,c=o[0],a=o[1],s=o[2],i=0;if(c.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(s)var d=s(r)}for(t&&t(o);i<c.length;i++)l=c[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},o=self.webpackChunkyith_woocommerce_booking_premium=self.webpackChunkyith_woocommerce_booking_premium||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[46],(()=>r(701)));n=r.O(n)})();