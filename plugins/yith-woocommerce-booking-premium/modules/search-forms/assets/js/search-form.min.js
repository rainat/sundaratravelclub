!function(n){"use strict";var a={message:bk.loader_svg,blockMsgClass:"yith-wcbk-block-ui-element",css:{border:"none",background:"transparent"},overlayCSS:{background:"#fff",opacity:.7},ignoreIfBlocked:!0};n(document).on("yith-wcbk-init-fields:select2",function(){n(".yith-wcbk-select2:not(.yith-wcbk-select2--initialized)").each(function(){n(this).select2({width:"100%"}),n(this).addClass("yith-wcbk-select2--initialized")})}).trigger("yith-wcbk-init-fields:select2"),n(document).on("select2:open",function(t){n(t.target).is(".yith-wcbk-select2")&&n(".select2-results").closest(".select2-container").addClass("yith-wcbk-select2-results-container")}),n(document).on("submit",".yith-wcbk-booking-search-form.show-results-popup form",function(t){t.preventDefault();n(this);var e=n.fn.yith_wcbk_popup({popup_class:"yith-wcbk-booking-search-form-result yith-wcbk-popup woocommerce woocommerce-page",ajax:!0,ajax_custom_get_content:!0}),t=new FormData(this),c={};t.forEach(function(t,e){c[e]=t}),c.request="search_forms_search_booking_products",yith_booking.ajax(c).done(function(t){t=t.data.results_html||"";e.trigger("yith_wcbk_popup:set_ajax_content",[t])})}),n(document).on("click",".yith-wcbk-search-form-result-product-thumb-actions span",function(t){var e,t=n(t.target),c=t.closest(".yith-wcbk-search-form-result-product-thumb-wrapper"),o=c.find(".yith-wcbk-thumb"),s=o.length,c=c.find(".yith-wcbk-thumb.current");1<s&&(c.length<1&&(c=o.first()).addClass("current"),t.is(".yith-wcbk-search-form-result-product-thumb-action-next")?(e=c.next(".yith-wcbk-thumb")).length<1&&(e=o.first()):(e=c.prev(".yith-wcbk-thumb")).length<1&&(e=o.last()),c.removeClass("current"),e.addClass("current"))}),n(document).on("click",".yith-wcbk-search-form-results-show-more",function(t){var c=n(t.target),t=c.data("product-ids"),e=c.data("page"),o=c.data("booking-request"),s=c.data("last-page"),i=e+1,r=c.closest(".yith-wcbk-booking-search-form-result").find(".yith-wcbk-search-form-result-products");c.block(a),yith_booking.ajax({product_ids:t,page:i,booking_request:o,request:"search_forms_search_booking_products_paged"}).done(function(t){var e=t.data,e=e&&e.results_html?e.results_html:t;e&&(r.append(e),s<=i?c.remove():(c.data("page",i),c.unblock()))})}),n(document).on("yith-wcan-ajax-filtered",function(){n(document).trigger("yith-wcbk-init-fields:select2"),n(document).trigger("yith-wcbk-init-fields:gm-places-autocomplete"),n(document).trigger("yith-wcbk-init-booking-form")})}(jQuery);