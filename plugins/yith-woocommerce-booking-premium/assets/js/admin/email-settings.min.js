!function(s){var n="yith-wcbk-email-field__row--empty-value";s(document).on("change",".yith-wcbk-emails__email__toggle-active .on_off",function(){var e=s(this),i=e.closest(".yith-wcbk-emails__email__toggle-active"),e={email:e.closest(".yith-wcbk-emails__email").data("email"),request:"switch_email_activation",enabled:e.is(":checked")?"yes":"no"};yith_booking.adminAjax(e,{block:i})}),s(document).on("click",".yith-wcbk-emails__email__toggle-editing",function(e){e.preventDefault();var e=s(this).closest(".yith-wcbk-emails__email"),i=e.find(".yith-wcbk-emails__email__options"),t=e.find("textarea.wp-editor-area");t.length&&t.each(function(){var e=s(this).attr("id");"tinymce"in window&&(e=window.tinymce.get(e))&&e.theme.resizeTo(undefined,300)}),e.is(".yith-wcbk-emails__email--open")?(e.removeClass("yith-wcbk-emails__email--open"),i.slideUp()):(e.addClass("yith-wcbk-emails__email--open"),i.slideDown())});var c=!1;s(document).on("click",".yith-wcbk-emails__email__save",function(){"tinyMCE"in window&&"triggerSave"in window.tinyMCE&&window.tinyMCE.triggerSave();var i=s(this),e=i.closest(".yith-wcbk-emails__email"),t=e.data("email"),e=e.find("form"),a=i.find(".yith-wcbk-emails__email__save__text"),n=i.data("save-message"),l=i.data("saved-message"),t={email:t,request:"update_email_options",data:function(e){var i,t=new FormData(e),a={};for(i of t.keys()){var n=i.endsWith("[]"),l=n?i.substring(0,i.length-2):i,n=n?t.getAll(i):t.get(i);a[l]=n}return a}(e.get(0))},o=function(e){e?(i.addClass("is-saved"),a.html(l)):(i.removeClass("is-saved"),a.html(n))};o(!1),c&&clearTimeout(c),yith_booking.adminAjax(t,{block:i}).done(function(){o(!0),c=setTimeout(function(){o(!1)},1e3)})}),s(document).on("click",".yith-wcbk-email-field__edit",function(e){e.preventDefault();var e=s(this).closest(".yith-wcbk-email-field__row"),i=e.data("default-content"),t=e.find("textarea.wp-editor-area"),a=t.attr("id");"tinymce"in window&&((a=window.tinymce.get(a))?(a.theme.resizeTo(undefined,300),a.setContent(i.replace(/\r?\n/g,"<br />"))):t.val(i)),e.removeClass(n)}),s(document).on("click",".yith-wcbk-email-field__use-default",function(){var e=s(this).closest(".yith-wcbk-email-field__row"),i=e.find("textarea.wp-editor-area"),t=i.attr("id");"tinymce"in window&&((t=window.tinymce.get(t))?t.setContent(""):i.val("")),e.addClass(n)})}(jQuery);