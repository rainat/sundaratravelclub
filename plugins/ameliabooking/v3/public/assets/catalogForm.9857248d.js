var Jt=Object.defineProperty;var It=Object.getOwnPropertySymbols;var Gt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var Tt=(y,g,_)=>g in y?Jt(y,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):y[g]=_,He=(y,g)=>{for(var _ in g||(g={}))Gt.call(g,_)&&Tt(y,_,g[_]);if(It)for(var _ of It(g))Qt.call(g,_)&&Tt(y,_,g[_]);return y};import{o as a,c as i,n as B,d as wt,a as W,w as A,b as Se,t as o,u as e,_ as Le,i as x,e as $,f as ee,g as t,F as te,r as me,h as p,j as ve,k,l as Ce,m as Ee,p as lt,q as nt,s as We,v as Ue,x as Ke,I as Xt,y as at,z as St,A as ye,B as pt,C as de,D as Yt,E as bt,T as Re,G as ot,H as it,J as kt,K as ct,L as _t,M as X,N as Xe,O as rt,P as we,Q as Zt,R as Kt,S as ea,U as ta,V as aa,W as ia,X as sa,Y as la,Z as na,$ as oa,a0 as ca,a1 as ra,a2 as ua,a3 as da,a4 as ma,a5 as pa,a6 as _a,a7 as va,a8 as fa,a9 as ga,aa as Ft,ab as ya,ac as ha,ad as ut,ae as dt,af as ba,ag as ka,ah as $a}from"./stepForm.cd6ab161.js";const wa={name:"IconComponent"},Ct=Object.assign(wa,{props:{icon:{type:String,required:!0}},setup(y){return(g,_)=>(a(),i("span",{class:B(`am-icon-${y.icon}`)},null,2))}});const Ca={class:"am-cat__back-btn"},Sa={name:"MainHeader"},xt=Object.assign(Sa,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"}},emits:["click"],setup(y,{emit:g}){const _=y;let F=wt({components:{IconComponent:Ct},template:'<IconComponent icon="arrow-left"></IconComponent>'});function v(){g("click")}return(l,s)=>(a(),i("div",Ca,[W(Le,{prefix:e(F),category:"secondary",type:y.btnType,size:y.btnSize,onClick:v},{default:A(()=>[Se(o(e(_).btnString),1)]),_:1},8,["prefix","type","size"])]))}});const xa={class:"am-cat__sidemenu-item__wrapper"},Pa=["onClick"],Da={key:0,class:"am-cat__sidemenu-footer"},Ea={class:"am-cat__sidemenu-footer__text"},La=["href"],Ia={name:"SideMenu"},Ta=Object.assign(Ia,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(y,{emit:g}){const _=y;function F(s){g("click",s)}let v=x("amColors"),l=$(()=>({"--am-c-csm-text-op10":ee(v.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(v.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(v.value.colorSbText,.6),"--am-c-csm-text-op80":ee(v.value.colorSbText,.8)}));return(s,c)=>(a(),i("div",{class:"am-cat__sidemenu",style:ve(e(l))},[t("div",xa,[(a(!0),i(te,null,me(y.menuItems,(h,d)=>(a(),i("div",{key:d,class:B(["am-cat__sidemenu-item",{"am-active":e(_).initSelection===h[e(_).identifier]}]),onClick:()=>F(h)},o(h[e(_).nameIdentifier]),11,Pa))),128))]),e(_).companyEmail?(a(),i("div",Da,[t("span",Ea,o(e(_).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(_).companyEmail}`},o(e(_).companyEmail),9,La)])):p("",!0)],4))}});const Ba={name:"MainContent"},Pt=Object.assign(Ba,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(y,{expose:g}){let _=k(null),F=k(0),v=k(null),l=k(0),s=k(null),c=k(0),h=k(null),d=k(null),N=k(0);window.addEventListener("resize",he);function he(){Ce(()=>{_.value&&(F.value=_.value.offsetWidth),v.value&&(l.value=v.value.offsetWidth),s.value&&(c.value=s.value.offsetWidth)})}Ee(()=>{Ce(()=>{if(s.value&&h.value){let n=s.value.offsetHeight-h.value.offsetHeight-2;N.value=n<=656?656:n}he()})}),g({catHeaderWidth:F,catFormWidth:c,catContainerWidth:l});let L=x("amColors"),z=$(()=>({"--am-h-cat-content":`${N.value}px`,"--am-c-scroll-op30":ee(L.value.colorPrimary,.3),"--am-c-scroll-op10":ee(L.value.colorPrimary,.1)}));return(n,T)=>(a(),i("div",{class:B(["am-cat__wrapper",y.wrapperClass])},[t("div",{ref_key:"catHeader",ref:_,class:"am-cat__header"},[lt(n.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:v,class:"am-cat__main"},[lt(n.$slots,"side"),t("div",{ref_key:"catForm",ref:s,class:B(["am-cat__form",y.formClass]),style:ve(e(z))},[t("div",{ref_key:"catHeading",ref:h,class:B(["am-cat__heading",y.headingClass])},[lt(n.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:d,class:B(["am-cat__content",y.contentClass])},[lt(n.$slots,"content")],2)],6)],512)],2))}}),Fa={name:"AmImagePlaceholder"},Ye=Object.assign(Fa,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(y){const g=y;function _(v){return v.pictureFullPath?{backgroundImage:`url(${v.pictureFullPath})`}:{backgroundColor:`${nt.value[Math.floor(Math.random()*nt.value.length)]}`}}function F(v){return v.pictureFullPath?"":("firstName"in v?`${v.firstName} ${v.lastName}`:v.name).split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,g.trimString).replace(/[^\w\s]/g,"")}return(v,l)=>(a(),i("span",{class:B(e(g).itemClass),style:ve(He({},_(e(g).itemData)))},o(F(e(g).itemData)),7))}}),$t=We(window.wpAmeliaSettings),Bt=We(window.wpAmeliaLabels),Me=We(window.ameliaShortcodeData?window.ameliaShortcodeData[0]:null);function mt(y,g,_=null,F=null){let v=[];return y&&y.serviceList.forEach(l=>{_?_ in g.entitiesRelations&&l.id in g.entitiesRelations[_]&&(F?g.entitiesRelations[_][l.id].find(s=>s===F):!0)&&l.status==="visible"&&l.show&&!v.filter(s=>s===l.id).length&&v.push(l.id):g.employees.forEach(s=>{s.id in g.entitiesRelations&&l.id in g.entitiesRelations[s.id]&&(F?g.entitiesRelations[s.id][l.id].find(c=>c===F):!0)&&l.status==="visible"&&l.show&&!v.filter(c=>c===l.id).length&&v.push(l.id)})}),v}function zt(y,g){let _=[],F=[];y.employees.forEach(s=>{if(s.id in y.entitiesRelations&&g in y.entitiesRelations[s.id]){let c=s.serviceList.find(h=>h.id===g);_.push(c.maxCapacity),F.push(c.minCapacity)}});let v=F.reduce((s,c)=>c<s?c:s,F[0]),l=_.reduce((s,c)=>c>s?c:s,_[0]);return v!==l?`${v}/${l}`:v}function At(y){let g=Math.floor(y/3600),_=y/60%60;return(g?g+Bt.h+" ":"")+" "+(_?_+Bt.min:"")}function Ze(y,g){let _=[];y.employees.forEach(l=>{if(l.id in y.entitiesRelations&&g in y.entitiesRelations[l.id]){let s=l.serviceList.find(c=>c.id===g);_.push(s.price)}});let F=_.reduce((l,s)=>s<l?s:l,_[0]),v=_.reduce((l,s)=>s>l?s:l,_[0]);return F!==v?{price:`${Ue(F,!$t.payments.hideCurrencySymbolFrontend)} - ${Ue(v,!$t.payments.hideCurrencySymbolFrontend)}`,min:F,max:v}:{price:Ue(F,$t.payments.hideCurrencySymbolFrontend),min:F,max:v}}function Pe(y,g){let _=[];return y.employees.forEach(F=>{F.id in y.entitiesRelations&&g in y.entitiesRelations[F.id]&&y.entitiesRelations[F.id][g].length&&y.locations.forEach(v=>{y.entitiesRelations[F.id][g].some(l=>l===v.id)&&!_.find(l=>l===v.id)&&_.push(v)})}),_}function Rt(y,g){let _=[],F=Object.keys(y.entitiesRelations);return g.bookable.forEach(v=>{let l=[];F.forEach(s=>{y.entitiesRelations[s][v.service.id]&&!l.find(c=>c?c.id===parseInt(s):!0)&&l.push(y.employees.find(c=>c.id===parseInt(s)))}),l.length||_.push(!1)}),_.filter(v=>v===!1).length}function Mt(y,g){let _=[],F=Object.keys(y.entitiesRelations),v=k(Me&&Me.employee?y.unfilteredEmployees.filter(l=>l.id===parseInt(Me.employee)):y.unfilteredEmployees);return g.bookable.forEach(l=>{let s=[];l.providers.length?l.providers.forEach(c=>{l.locations.length?l.locations.forEach(h=>{v.value.find(d=>d.id===c.id)&&y.entitiesRelations[c.id][l.service.id]&&y.entitiesRelations[c.id][l.service.id].indexOf(h.id)!==-1&&!s.find(d=>d.id===c.id)&&s.push(v.value.find(d=>d.id===c.id))}):v.value.find(h=>h.id===c.id)&&!s.find(h=>h.id===c.id)&&s.push(v.value.find(h=>h.id===c.id))}):F.forEach(c=>{l.locations.length?l.locations.forEach(h=>{y.entitiesRelations[c][l.service.id]&&y.entitiesRelations[c][l.service.id].indexOf(h.id)!==-1&&v.value.find(d=>d.id===parseInt(c))&&!s.find(d=>d.id===parseInt(c))&&s.push(v.value.find(d=>d.id===parseInt(c)))}):y.entitiesRelations[c][l.service.id]&&v.value.find(h=>h.id===parseInt(c))&&!s.find(h=>h.id===parseInt(c))&&s.push(v.value.find(h=>h.id===parseInt(c)))}),_.push(!!s.length)}),!_.filter(l=>l===!1).length}function Ot(y,g){let _=[],F=Object.keys(y.entitiesRelations),v=k(Me&&Me.employee?y.unfilteredEmployees.filter(l=>l.id===parseInt(Me.employee)):y.unfilteredEmployees);return g.bookable.forEach(l=>{l.providers.length?l.providers.forEach(s=>{l.locations.length?l.locations.forEach(c=>{v.value.find(h=>h.id===s.id)&&y.entitiesRelations[s.id][l.service.id].indexOf(c.id)!==-1&&!_.find(h=>h.id===s.id)&&_.push(v.value.find(h=>h.id===s.id))}):v.value.find(c=>c.id===s.id)&&!_.find(c=>c.id===s.id)&&_.push(v.value.find(c=>c.id===s.id))}):F.forEach(s=>{l.locations.length?l.locations.forEach(c=>{y.entitiesRelations[s][l.service.id]&&y.entitiesRelations[s][l.service.id].indexOf(c.id)!==-1&&v.value.find(h=>h.id===parseInt(s))&&!_.find(h=>h.id===parseInt(s))&&_.push(v.value.find(h=>h.id===parseInt(s)))}):y.entitiesRelations[s][l.service.id]&&v.value.find(c=>c.id===parseInt(s))&&!_.find(c=>c.id===parseInt(s))&&_.push(v.value.find(c=>c.id===parseInt(s)))})}),_}function Qe(y,g){let _=[],F=Object.keys(y.entitiesRelations),v=k(Me&&Me.location?y.unfilteredLocations.filter(l=>l.id===parseInt(Me.location)):y.unfilteredLocations);return g.bookable.forEach(l=>{l.locations.length?l.locations.forEach(s=>{v.value.find(c=>c.id===s.id)&&!_.find(c=>c.id===s.id)&&_.push(v.value.find(c=>c.id===s.id))}):F.forEach(s=>{v.value.forEach(c=>{s in y.entitiesRelations&&l.service.id in y.entitiesRelations[s]&&y.entitiesRelations[s][l.service.id].indexOf(c.id)!==-1&&v.value.find(h=>h.id===c.id)&&!_.find(h=>h.id===parseInt(c.id))&&_.push(v.value.find(h=>h.id===c.id))})})}),_}const za={class:"am-fcl__item-inner"},Aa={class:"am-fcl__item-heading"},Ra={class:"am-fcl__item-name"},Ma={class:"am-fcl__item-segments"},Oa={key:0,class:"am-fcl__item-segments__item"},Na=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),Va={class:"am-fcl__item-segments__item-count"},Ua={key:1,class:"am-fcl__item-segments__item"},Wa=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),ja={class:"am-fcl__item-segments__item-count"},Ha={class:"am-fcl__item-footer"},qa=["src"],Ja={class:"am-empty__heading"},Ga={class:"am-empty__subheading"},Qa={class:"am-empty__text"},Xa={key:0},Ya={href:"https://wpamelia.com/services-and-categories/"},Za={key:1},Ka={key:2,href:"https://wpamelia.com/employees/"},ei={name:"CategoriesList",key:"categoriesList"},ti=Object.assign(ei,{setup(y){const g=x("baseUrls");let _=k(null),F=k(0);window.addEventListener("resize",v);function v(){_.value&&(F.value=_.value.offsetWidth)}Ee(()=>{_.value&&(F.value=_.value.offsetWidth)});let l=$(()=>F.value<=500?"am-w100":F.value<=600?"am-w50":F.value<=768?"am-w33":""),{nextPage:s}=x("changingPageFunctions",{nextPage:()=>{}});const c=x("settings");let h=Ke();const d=x("shortcodeData");let N=x("amEntities"),he=x("customizedDataForm"),L=$(()=>he.value.categoriesList.options),z=x("availableCategories"),n=$(()=>{let se=[];return N.value.categories.forEach(Y=>{let Z=mt(Y,N.value);Y.packageList=[],N.value.packages.forEach(G=>{Z.forEach(j=>{G.bookable.filter(re=>re.service.id===j).length&&!Y.packageList.filter(re=>re===G.id).length&&G.available&&G.status==="visible"&&!Rt(N.value,G)&&Mt(N.value,G)&&Y.packageList.push(G.id)})}),Y.status==="visible"&&Y.serviceList.length&&!!Z.length&&(d.value.show==="packages"?!!Y.packageList.length:!0)&&se.push(Y)}),Ce(()=>{z.value=JSON.parse(JSON.stringify(se))}),se}),T=x("categorySelected");function f(se){T.value=se,h.commit("booking/setCategoryId",parseInt(se)),at(h,{},"SelectCategory","appointment",null,null),s()}let J=$(()=>n.value.length===0);const b=x("labels"),pe=x("localLanguage");let $e=$(()=>c.general.usedLanguages.includes(pe.value)),w=$(()=>{let se=We(He({},b));if(c.customizedData&&c.customizedData.cbf&&c.customizedData.cbf.categoriesList.translations){let Y=c.customizedData.cbf.categoriesList.translations;Object.keys(Y).forEach(Z=>{Y[Z][pe.value]&&$e.value?se[Z]=Y[Z][pe.value]:Y[Z].default&&(se[Z]=Y[Z].default)})}return se}),be=x("amColors"),ae=$(()=>({"--am-c-fcl-card-text-op80":ee(be.value.colorCardText,.8)}));return(se,Y)=>e(J)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:_,class:"am-empty"},[t("img",{src:e(g).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,qa),t("div",Ja,o(e(w).oops),1),t("div",Ga,o(e(d).show!=="packages"?e(w).no_services_employees:e(w).no_package_services),1),t("div",Qa,[e(d).show!=="packages"?(a(),i("span",Xa,o(e(w).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",Ya,o(e(w).add_services_url)+"\xA0 ",1),e(d).show!=="packages"?(a(),i("span",Za,o(e(w).and)+"\xA0 ",1)):p("",!0),e(d).show!=="packages"?(a(),i("a",Ka,o(e(w).add_employees_url),1)):p("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:_,class:"am-fcl",style:ve(e(ae))},[(a(!0),i(te,null,me(e(n),Z=>(a(),i("div",{key:Z.id,class:B(["am-fcl__item",e(l)])},[t("div",za,[t("div",{class:"am-fcl__item-content",style:ve(e(L).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:e(nt)[Math.floor(Math.random()*e(nt).length)]}:{})},[t("div",Aa,[t("div",Ra,o(Z.name),1),t("div",Ma,[(!e(d).show||e(d).show==="services")&&e(L).services.visibility?(a(),i("div",Oa,[Na,t("span",Va,o(e(mt)(Z,e(N)).length),1)])):p("",!0),(!e(d).show||e(d).show==="packages")&&Z.packageList.length&&e(L).packages.visibility?(a(),i("div",Ua,[Wa,t("span",ja,o(Z.packageList.length),1)])):p("",!0)])]),t("div",Ha,[W(Le,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(L).cardButton.buttonType,suffix:e(Xt),onClick:G=>f(Z.id)},{default:A(()=>[Se(o(e(w).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const ai={class:"am-fcil__filter-buttons"},ii={class:"am-fcil__filter"},si={class:"am-fcil__filter-item__btn-wrapper"},li={class:"am-fcil__heading"},ni={key:0,class:"am-fcil__item-badge__wrapper"},oi={class:"am-fcil__item-badge am-package"},ci=t("span",{class:"am-icon-shipment"},null,-1),ri={class:"am-fcil__item-heading"},ui={class:"am-fcil__item-name"},di={key:0,class:"am-fcil__item-cost"},mi={key:0,class:"am-fcil__item-discount"},pi={class:"am-fcil__item-price"},_i={class:"am-fcil__item-info"},vi={key:0,class:"am-fcil__item-info__inner"},fi=t("span",{class:"am-icon-folder"},null,-1),gi={key:1,class:"am-fcil__item-info__inner"},yi=t("span",{class:"am-icon-clock"},null,-1),hi={key:0},bi={key:1},ki={key:2},$i={key:2,class:"am-fcil__item-info__inner"},wi=t("span",{class:"am-icon-user"},null,-1),Ci=t("span",null,"1/1",-1),Si=[wi,Ci],xi={key:3,class:"am-fcil__item-info__inner"},Pi=t("span",{class:"am-icon-locations"},null,-1),Di={key:2,class:"am-fcil__item-services"},Ei={key:0,class:"am-fcil__item-badge__wrapper"},Li={class:"am-fcil__item-badge am-service"},Ii=t("span",{class:"am-icon-service"},null,-1),Ti={class:"am-fcil__item-heading"},Bi={class:"am-fcil__item-name"},Fi={key:0,class:"am-fcil__item-cost"},zi={key:0,class:"am-fcil__item-price"},Ai={class:"am-fcil__item-info"},Ri={key:0,class:"am-fcil__item-info__inner"},Mi=t("span",{class:"am-icon-folder"},null,-1),Oi={key:1,class:"am-fcil__item-info__inner"},Ni=t("span",{class:"am-icon-clock"},null,-1),Vi={key:2,class:"am-fcil__item-info__inner"},Ui=t("span",{class:"am-icon-user"},null,-1),Wi={key:3,class:"am-fcil__item-info__inner"},ji=t("span",{class:"am-icon-locations"},null,-1),Hi={class:"am-fcil-employee__header"},qi={class:"am-fcil-employee__heading"},Ji={class:"am-fcil-employee__heading-left"},Gi={class:"am-fcil-employee__name"},Qi={key:0,class:"am-fcil-employee__heading-right"},Xi={class:"am-fcil-employee__price"},Yi=["innerHTML"],Zi={key:1,ref:"ameliaContainer",class:"am-empty"},Ki=["src"],es={class:"am-empty__heading"},ts={class:"am-empty__subheading"},as={class:"am-empty__text"},is={key:0},ss={href:"https://wpamelia.com/services-and-categories/"},ls={key:1},ns={key:2,href:"https://wpamelia.com/employees/"},os={name:"CategoryItemsList",key:"categoryItemsList"},cs=Object.assign(os,{setup(y){let g=x("licence"),{nextPage:_,previousPage:F}=x("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const v=x("baseUrls");let l=k(!1),s=k(),c=x("containerWidth"),h=x("customizedDataForm"),d=$(()=>h.value.categoryItemsList.options),N=$(()=>{let O=s.value&&s.value.catContainerWidth?s.value.catContainerWidth>768:!0;return!z.value.category&&d.value.sidebar.visibility&&O});const he=x("settings");let L=Ke();const z=x("shortcodeData");let n=x("amEntities");const T=x("labels"),f=x("localLanguage");let J=$(()=>he.general.usedLanguages.includes(f.value)),b=$(()=>{let O=We(He({},T));if(he.customizedData&&he.customizedData.cbf&&he.customizedData.cbf.categoryItemsList.translations){let S=he.customizedData.cbf.categoryItemsList.translations;Object.keys(S).forEach(r=>{S[r][f.value]&&J.value?O[r]=S[r][f.value]:S[r].default&&(O[r]=S[r].default)})}return O}),pe=k(""),$e=wt({components:{IconComponent:Ct},template:'<IconComponent icon="search"/>'}),w=k(!0),be=wt({components:{IconComponent:Ct},template:'<IconComponent icon="filter"/>'}),ae=$(()=>s.value&&s.value.catHeaderWidth?s.value.catHeaderWidth:0);window.addEventListener("resize",se);function se(){Ce(()=>{ae.value>480&&(w.value=!0)})}Ee(()=>{se()});function Y(O){let S=[];return pe.value.toLowerCase().split(" ").forEach(r=>{S.push(O.toLowerCase().includes(r))}),S.filter(r=>r===!1).length<=0}let Z=x("availableCategories"),G=x("categorySelected"),j=$(()=>mt(n.value.categories.find(O=>O.id===G.value),n.value,xe.value,m.value)),re=$(()=>{let O=[];return n.value.packages.forEach(S=>{j.value.forEach(r=>{S.bookable.filter(oe=>oe.service.id===r).length&&!O.filter(oe=>oe.id===S.id).length&&S.available&&S.status==="visible"&&!Rt(n.value,S)&&Mt(n.value,S)&&(pe.value?Y(S.name):!0)&&O.push(S)})}),O}),ke=$(()=>{let O=[];return n.value.services.forEach(S=>{j.value.forEach(r=>{S.id===r&&(pe.value?Y(S.name):!0)&&O.push(S)})}),O}),xe=k(null),m=k(null),K=k(!0),ne=k(!0);function Te(O){O==="all"&&(K.value=!0,ne.value=!0),O==="packages"&&(K.value=!0,ne.value=!1),O==="services"&&(K.value=!1,ne.value=!0)}St(()=>{z.value.show&&Te(z.value.show)});let U=$(()=>{let O=z.value.employee,S=n.value.employees.length,r=z.value.location,oe=n.value.locations.length,De=d.value.searchInput.visibility,Ve=d.value.filterEmployee.visibility&&!O&&S>1&&!g.isLite,Ae=d.value.filterLocation.visibility&&!r&&oe>1&&!g.isLite,Be=d.value.filterButtons.visibility&&z.value.show!=="packages"&&z.value.show!=="services"&&re.value.length!==0&&ke.value.length!==0,ce={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ae.value>992?!De||!Be?(ce.employee=!De&&!Be?"am-w50":"am-w35",ce.location=!De&&!Be?"am-w50":"am-w35",ce.search=!Be&&!Ae&&!Ve?"am-w100":"am-w30",Ve||(ce.location=!De&&!Be?"am-w100":"am-w70"),Ae||(ce.employee=!De&&!Be?"am-w100":"am-w70")):(Ve||(ce.location="am-w40"),Ae||(ce.employee="am-w40"),!Ve&&!Ae&&(ce.search="am-w70")):ae.value>768||ae.value>480?(ce.search=Be?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ce.buttons=De?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ce.employee=Ae?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ce.location=Ve?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ce.category="am-w100 am-tablet am-order5"):(ce.employee="am-w100 am-mobile",ce.location="am-w100 am-mobile",ce.search="am-w100 am-mobile",ce.buttons="am-w100 am-mobile",ce.category="am-w100 am-mobile"),ce}),le=$(()=>s.value&&s.value.catContainerWidth?s.value.catContainerWidth:0),fe=$(()=>{let O=ke.value.length>1?b.value.heading_services:b.value.heading_service,S=re.value.length?re.value.length>1?b.value.packages:b.value.package:"";if(!ke.value.length&&!re.value.length)return b.value.no_search_data;if(ne.value&&(!K.value||!re.value.length))return`${b.value.available} - ${ke.value.length} ${O}`;if((!ne.value||!ke.value.length)&&K.value)return`${b.value.available} - ${re.value.length} ${S}`;let r=re.value.length?"/":"";return`${b.value.available} - ${ke.value.length} ${O} ${r} ${re.value.length} ${S}`});Ee(()=>{Ce(()=>{l.value=re.value.length===0&&ke.value.length===0})});function je(O){G.value=O.id,L.commit("booking/setCategoryId",parseInt(O.id))}let Oe=x("itemType");function H(O){L.commit("booking/setServiceId",parseInt(O)),L.commit("booking/setBookableType","appointment"),L.commit("booking/setSelectedExtras",[]),Oe.value="appointment",at(L,{},"SelectService","appointment",null,null),Ce(()=>{_()})}function M(O){L.commit("booking/setPackageId",O.id),L.commit("booking/setBookableType","package"),L.commit("booking/setMultipleAppointments",_t(0,O)),L.commit("booking/setMultipleAppointmentsIndex",0),Oe.value="package",at(L,{},"SelectPackage","package",null,null),Ce(()=>{_()})}function R(){G.value=null,L.commit("booking/setCategoryId",null),F()}let q=k(!1),ze=k(""),Ne=k([]),V=k({}),D=k(null);function C(){ze.value="",Ne.value=[],V.value={},D.value=null}function I(O){Ne.value=Ot(n.value,O),V.value=O,q.value=!0}function vt(O){let S=[];Object.keys(n.value.entitiesRelations).forEach(oe=>{oe in n.value.entitiesRelations&&O in n.value.entitiesRelations[oe]&&n.value.employees.find(De=>De.id===parseInt(oe))&&S.push(n.value.employees.find(De=>De.id===parseInt(oe)))}),Ne.value=S,ze.value="service",q.value=!0,D.value=O}function et(O){let S=n.value.services.find(oe=>oe.id===D.value).price,r=O.serviceList.find(oe=>oe.id===D.value).price;return r!==S?`${r-S>0?"+":"-"} ${Ue(r-S)}`:0}function ft(){ze.value==="service"?H(D.value):M(V.value),C()}function qe(O,S){let r="";return O>1?(S==="day"&&(r=b.value.expires_days),S==="week"&&(r=b.value.expires_weeks),S==="month"&&(r=b.value.expires_months)):(S==="day"&&(r=b.value.expires_day),S==="week"&&(r=b.value.expires_week),S==="month"&&(r=b.value.expires_month)),r}function st(O,S){return Pe(O,S).length===1?Pe(O,S)[0].address?Pe(O,S)[0].address:Pe(O,S)[0].name:b.value.multiple_locations}let gt=x("amFonts",k({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),_e=x("amColors"),yt=$(()=>({"--am-c-fcil-text-op-10":ee(_e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee(_e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee(_e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee(_e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee(_e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee(_e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee(_e.value.colorInpText,.1),"--am-w-fcil-main":!z.value.category&&d.value.sidebar.visibility&&N.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":s.value&&s.value.catFormWidth<580?"100%":"50%"})),tt=$(()=>({"--am-f-fcil-employee-f":gt.value.fontFamily,"--am-c-fcil-employee-bgr":_e.value.colorMainBgr,"--am-c-fcil-employee-heading":_e.value.colorMainHeadingText,"--am-c-fcil-employee-text":_e.value.colorMainText,"--am-c-fcil-employee-text-op80":ee(_e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee(_e.value.colorMainText,.15),"--am-c-fcil-employee-primary":_e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee(_e.value.colorPrimary,.1),"--am-c-inp-border":_e.value.colorInpBorder,"--am-c-main-text":_e.value.colorMainText}));return(O,S)=>e(l)?(a(),i("div",Zi,[t("img",{src:e(v).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ki),t("div",es,o(e(b).oops),1),t("div",ts,o(e(z).show!=="packages"?e(b).no_services_employees:e(b).no_package_services),1),t("div",as,[e(z).show!=="packages"?(a(),i("span",is,o(e(b).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",ss,o(e(b).add_services_url)+"\xA0 ",1),e(z).show!=="packages"?(a(),i("span",ls,o(e(b).and)+"\xA0 ",1)):p("",!0),e(z).show!=="packages"?(a(),i("a",ns,o(e(b).add_employees_url),1)):p("",!0)])],512)):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:s,"wrapper-class":`am-fcil ${e(c)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(c)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(c)<481?"am-mobile":""}`,style:ve(e(yt))},pt({header:A(()=>[t("span",ai,[e(z).category?p("",!0):(a(),ye(xt,{key:0,"btn-size":e(ae)<481?"medium":"mini","btn-string":e(b).back_btn,"btn-type":e(d).backBtn.buttonType,onClick:R},null,8,["btn-size","btn-string","btn-type"])),e(ae)<481?(a(),ye(Le,{key:1,size:"medium",category:"secondary",type:e(d).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(be),onClick:S[0]||(S[0]=()=>de(w)?w.value=!e(w):w=!e(w))},null,8,["type","icon"])):p("",!0)]),t("div",ii,[e(d).searchInput.visibility?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(U).search])},[W(Yt,{modelValue:e(pe),"onUpdate:modelValue":S[1]||(S[1]=r=>de(pe)?pe.value=r:pe=r),placeholder:e(b).filter_input,"icon-start":e($e)},null,8,["modelValue","placeholder","icon-start"])],2)):p("",!0),W(Re,{name:"slide-fade"},{default:A(()=>[!e(z).employee&&e(n).employees.length>1&&e(d).filterEmployee.visibility&&e(w)&&!e(g).isLite?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(U).employee])},[W(bt,{modelValue:e(xe),"onUpdate:modelValue":S[2]||(S[2]=r=>de(xe)?xe.value=r:xe=r),clearable:"",filterable:"",placeholder:e(b).filter_employee,"fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,me(e(n).employees,r=>(a(),ye(kt,{key:r.id,value:r.id,label:`${r.firstName} ${r.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):p("",!0)]),_:1}),W(Re,{name:"slide-fade"},{default:A(()=>[!e(z).location&&e(n).locations.length>1&&e(d).filterLocation.visibility&&e(w)&&!e(g).isLite?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(U).location])},[W(bt,{modelValue:e(m),"onUpdate:modelValue":S[3]||(S[3]=r=>de(m)?m.value=r:m=r),clearable:"",filterable:"",placeholder:e(b).filter_location,"fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,me(e(n).locations,r=>(a(),ye(kt,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):p("",!0)]),_:1}),W(Re,{name:"slide-fade"},{default:A(()=>[!e(z).category&&e(d).sidebar.visibility&&!e(N)&&e(w)?(a(),i("div",{key:0,class:B(["am-fcil__filter-item am-w100",e(U).category])},[W(bt,{modelValue:e(G),"onUpdate:modelValue":S[4]||(S[4]=r=>de(G)?G.value=r:G=r),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,me(e(Z),r=>(a(),ye(kt,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):p("",!0)]),_:1}),!e(z).show&&e(d).filterButtons.visibility&&e(re).length!==0&&e(ke).length!==0?(a(),i("div",{key:1,class:B(["am-fcil__filter-item",e(U).buttons])},[t("div",si,[t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":e(K)&&e(ne)}]),onClick:S[5]||(S[5]=r=>Te("all"))},[t("span",null,o(e(b).filter_all),1)],2),t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":e(K)&&!e(ne)}]),onClick:S[6]||(S[6]=r=>Te("packages"))},[t("span",null,o(e(b).filter_packages),1)],2),t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":!e(K)&&e(ne)}]),onClick:S[7]||(S[7]=r=>Te("services"))},[t("span",null,o(e(b).filter_services),1)],2)])],2)):p("",!0)])]),heading:A(()=>[t("div",li,o(e(fe)),1)]),content:A(()=>[e(K)?(a(!0),i(te,{key:0},me(e(re),r=>(a(),i("div",{key:r.id,class:B(["am-fcil__item",{"am-mobile":e(le)<481}])},[t("div",{class:B(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[e(d).packageBadge.visibility?(a(),i("div",ni,[t("div",oi,[ci,t("span",null,o(e(b).package),1)])])):p("",!0),r.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ve({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):p("",!0),t("div",ri,[t("div",ui,o(r.name),1),e(d).packagePrice.visibility?(a(),i("div",di,[r.discount?(a(),i("span",mi,o(`${e(b).save} ${r.discount}%`),1)):p("",!0),t("span",pi,o(r.price?e(Ue)(r.calculatedPrice?r.price:r.price-r.price/100*r.discount):e(b).free),1)])):p("",!0)]),t("div",_i,[e(d).packageCategory.visibility?(a(),i("div",vi,[fi,t("span",null,o(e(Z).find(oe=>oe.id===e(G)).name),1)])):p("",!0),e(d).packageDuration.visibility?(a(),i("div",gi,[yi,r.endDate?(a(),i("span",hi,o(`${e(b).expires_at} ${r.endDate.split(" ")[0]}`),1)):r.durationCount?(a(),i("span",bi,o(`${e(b).expires_after} ${r.durationCount} ${qe(r.durationCount,r.durationType)}`),1)):(a(),i("span",ki,o(e(b).without_expiration),1))])):p("",!0),e(d).packageCapacity.visibility?(a(),i("div",$i,Si)):p("",!0),e(Qe)(e(n),r).length&&e(d).packageLocation.visibility?(a(),i("div",xi,[Pi,t("span",null,o(e(Qe)(e(n),r).length===1?e(Qe)(e(n),r)[0].address?e(Qe)(e(n),r)[0].address:e(Qe)(e(n),r)[0].name:e(b).multiple_locations),1)])):p("",!0)]),e(d).packageServices.visibility?(a(),i("div",Di,[t("span",null,o(`${e(b).in_package}:`),1),(a(!0),i(te,null,me(r.bookable,oe=>(a(),i("span",{key:oe.id},o(oe.service.name),1))),128))])):p("",!0),t("div",{class:B(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(d).cardEmployeeBtn.visibility?(a(),ye(Le,{key:0,class:B({"am-w100":e(le)<320}),size:"small",type:e(d).cardEmployeeBtn.buttonType,onClick:oe=>I(r)},{default:A(()=>[Se(o(e(b).view_employees),1)]),_:2},1032,["class","type","onClick"])):p("",!0),W(Le,{class:B([{"am-w100":!e(d).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(d).cardContinueBtn.buttonType,onClick:oe=>M(r)},{default:A(()=>[Se(o(e(b).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):p("",!0),e(ne)?(a(!0),i(te,{key:1},me(e(ke),r=>(a(),i("div",{key:r.id,class:B(["am-fcil__item",{"am-mobile":e(le)<481}])},[t("div",{class:B(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[e(d).serviceBadge.visibility?(a(),i("div",Ei,[t("div",Li,[Ii,t("span",null,o(e(b).heading_service),1)])])):p("",!0),r.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ve({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):p("",!0),t("div",Ti,[t("div",Bi,o(r.name),1),e(d).servicePrice.visibility?(a(),i("div",Fi,[e(Ze)(e(n),r.id).min||e(Ze)(e(n),r.id).max?(a(),i("span",zi,o(e(Ze)(e(n),r.id).price),1)):p("",!0)])):p("",!0)]),t("div",Ai,[e(d).serviceCategory.visibility?(a(),i("div",Ri,[Mi,t("span",null,o(e(Z).find(oe=>oe.id===e(G)).name),1)])):p("",!0),e(d).serviceDuration.visibility?(a(),i("div",Oi,[Ni,t("span",null,o(e(At)(r.duration)),1)])):p("",!0),e(d).serviceCapacity.visibility&&!e(g).isLite?(a(),i("div",Vi,[Ui,t("span",null,o(e(zt)(e(n),r.id)),1)])):p("",!0),e(Pe)(e(n),r.id).length&&e(d).serviceLocation.visibility?(a(),i("div",Wi,[ji,t("span",null,o(st(e(n),r.id)),1)])):p("",!0)]),t("div",{class:B(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(d).cardEmployeeBtn.visibility&&!e(g).isLite?(a(),ye(Le,{key:0,class:B({"am-w100":e(le)<320}),size:"small",type:e(d).cardEmployeeBtn.buttonType,onClick:oe=>vt(r.id)},{default:A(()=>[Se(o(e(b).view_employees),1)]),_:2},1032,["class","type","onClick"])):p("",!0),W(Le,{class:B([{"am-w100":!e(d).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(d).cardContinueBtn.buttonType,onClick:oe=>H(r.id)},{default:A(()=>[Se(o(e(b).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):p("",!0),W(it,{modelValue:e(q),"onUpdate:modelValue":S[9]||(S[9]=r=>de(q)?q.value=r:q=r),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(tt),width:"648px",onClose:C},{title:A(()=>[t("div",Hi,o(e(b).employee_info),1)]),default:A(()=>[t("div",null,[W(ot,null,{default:A(()=>[(a(!0),i(te,null,me(e(Ne),(r,oe)=>(a(),ye(ct,{key:oe,side:""},{heading:A(()=>[t("div",qi,[t("div",Ji,[W(Ye,{"item-class":"am-fcil-employee__img","item-data":r,"trim-string":2},null,8,["item-data"]),t("div",Gi,o(`${r.firstName} ${r.lastName}`),1)]),e(ze)==="service"&&et(r)!==0?(a(),i("div",Qi,[t("div",Xi,o(et(r)),1)])):p("",!0)])]),default:A(()=>[r.description?(a(),i("div",{key:0,class:B(["am-fcil-employee__text",{"ql-description":r.description.includes("<!-- Content -->")}]),innerHTML:r.description},null,10,Yi)):p("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(d).dialogEmployeeBtn.visibility?(a(),ye(Le,{key:0,type:e(d).dialogEmployeeBtn.buttonType,category:"primary",onClick:S[8]||(S[8]=r=>ft())},{default:A(()=>[Se(o(e(ze)==="service"?e(b).book_service:e(b).book_package),1)]),_:1},8,["type"])):p("",!0)]),_:1},8,["modelValue","custom-styles"])]),_:2},[!e(z).category&&e(d).sidebar.visibility&&e(N)?{name:"side",fn:A(()=>[W(Ta,{"menu-items":e(Z),"init-selection":e(G),identifier:"id","name-identifier":"name","footer-string":e(b).get_in_touch,"company-email":e(he).company.email,onClick:je},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const rs=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),us=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),ds=["href"],ms={class:"am-fs-sb__step-wrapper"},ps={class:"am-fs-sb__step-inner"},_s={class:"am-fs-sb__step-icon"},vs={key:0,class:"am-icon-check"},fs={key:0},gs={key:1},ys={key:1},hs={key:0,class:"am-fs-sb__step"},bs={class:"am-fs-sb__step-inner"},ks={class:"am-fs-sb__step-icon"},$s={key:0,class:"am-icon-check"},ws={key:0,class:"am-fs-sb__support"},Cs=["href"],Ss={key:1,class:"am-icon-phone"},xs=["href"],Ps={key:1,class:"am-icon-email"},Ds={key:0,class:"am-fs-sb__menu-text"},Es={key:2,class:"am-no-services"},Ls=["src"],Is={href:"https://wpamelia.com/services-and-categories/"},Ts={style:{"font-size":"14px"}},Bs={href:"https://wpamelia.com/employees/"},Fs={name:"CategoryBooking"},Nt=Object.assign(Fs,{setup(y){let g=k(null),_=k();X("containerWidth",_);let F=k(!1);window.addEventListener("resize",v);function v(){g.value&&(_.value=g.value.offsetWidth)}Ee(()=>{Ce(()=>{g.value&&(_.value=g.value.offsetWidth)}),at(f,{containerWidth:_},"ContainerWidth","appointment",null,null)});const l=x("settings"),s=l.customizedData?l.customizedData.sbsNew:Xe.sbsNew;s&&X("amCustomize",s);let c=$(()=>{let u={heading:!0,phone:!0,email:!0};return"supportHeading"in s.sidebar.options&&(u.heading=s.sidebar.options.supportHeading.visibility),"companyPhone"in s.sidebar.options&&(u.phone=s.sidebar.options.companyPhone.visibility),"companyEmail"in s.sidebar.options&&(u.email=s.sidebar.options.companyEmail.visibility),u});const h=k(l.customizedData?l.customizedData.fonts:Xe.fonts);X("amFonts",h);let d=k(!1),N=k(""),he=x("bookingDialogWidth");rt(d,u=>{u?setTimeout(()=>{N.value="am-collapsed",setTimeout(()=>{he.value="592px"},200)},1e3):(N.value="",he.value="760px")}),Ee(()=>{s.sidebar.options.self.visibility||(he.value="520px")});let L=k(null),z=k(0);Ee(()=>{setTimeout(()=>{Ce(()=>{L.value&&setTimeout(()=>{z.value=L.value.offsetHeight},200)})},800)});let n=k(s.sidebar?s.sidebar.options.self.visibility:!0);const T=x("baseUrls"),f=Ke();let J=$(()=>({category:f.state.booking.appointment.categoryId?f.state.booking.appointment.categoryId:"",counter:f.state.entities.preselected.counter,employee:f.state.booking.appointment.providerId,hasApiCall:f.state.entities.preselected.hasApiCall,location:f.state.booking.appointment.locationId,service:f.state.booking.appointment.serviceId?f.state.booking.appointment.serviceId:"",package:f.state.booking.packageId,show:f.state.booking.appointment.type==="package"?"packages":"services",trigger:""}));f.commit("entities/setPreselected",J.value);let b=x("restoreFormData");const pe=we(Zt),$e=we(Kt),w=we(ea),be=we(ta),ae=we(aa),se=we(ia),Y=we(sa),Z=we(la),G=we(na),j=we(oa),re=we(ca),ke=we(ra),xe=we(ua),m=k([pe,se,j,G]);X("stepsArray",m);const K=x("labels"),ne=x("localLanguage");let Te=$(()=>l.general.usedLanguages.includes(ne.value)),U=$(()=>{let u=We(He({},K));return l.customizedData&&Object.keys(l.customizedData.sbsNew).forEach(P=>{if(P!=="colors"&&l.customizedData.sbsNew[P].translations){let E=l.customizedData.sbsNew[P].translations;Object.keys(E).forEach(Q=>{E[Q][ne.value]&&Te.value?u[Q]=E[Q][ne.value]:E[Q].default&&(u[Q]=E[Q].default)})}}),u});X("amLabels",U);let le=$(()=>{let u={};if(l.customizedData){let P=l.customizedData.sbsNew[m.value[I.value].key]?l.customizedData.sbsNew[m.value[I.value].key].translations:null;l.customizedData&&P&&Object.keys(P).forEach(E=>{P[E][ne.value]&&Te.value?u[E]=P[E][ne.value]:P[E].default&&(u[E]=P[E].default)})}return Object.keys(u).length?u:K}),fe=$(()=>{let u="filled";return l.customizedData&&l.customizedData.sbsNew[m.value[I.value].key]&&(u=l.customizedData.sbsNew[m.value[I.value].key].options.primaryFooterButton.buttonType),u});X("primFooterBtnType",fe),X("primDescBtnType",fe);let je=$(()=>{let u="text";return l.customizedData&&l.customizedData.sbsNew[m.value[I.value].key]&&l.customizedData.sbsNew[m.value[I.value].key].options.secondaryFooterButton&&(u=l.customizedData.sbsNew[m.value[I.value].key].options.secondaryFooterButton.buttonType),u}),Oe=$(()=>da(f.getters["entities/getEmployeeServices"](f.getters["booking/getSelection"])));function H(){let u=f.getters["entities/getPreselected"];if(u.show==="packages")u.package&&(m.value.splice(0,1),ie.value.splice(0,1),q()),Fe();else{C();let P=f.getters["entities/filteredEmployees"](f.getters["booking/getSelection"]).length<=1,E=!s.initStep.options.employee.visibility,Q=f.getters["entities/filteredLocations"](f.getters["booking/getSelection"]).length<=1,ue=!s.initStep.options.location.visibility;u.service&&(u.employee||P||E)&&(u.location||Q||ue)&&(Oe.value.availability?(m.value.splice(0,1,xe),ie.value.splice(0,1)):(m.value.splice(0,1),ie.value.splice(0,1)),Fe())}}function M(u,P,E){u.value.map((ue,Je)=>P.includes(ue.name)?Je:null).filter(ue=>ue!==null).reverse().forEach(ue=>{u.value.splice(ue,1)}),E.forEach(ue=>{u.value.indexOf(ue)===-1&&(f.getters["entities/getPreselected"].show==="packages"&&f.getters["entities/getPreselected"].package?u.value.splice(I.value,0,ue):u.value.splice(I.value+1,0,ue))})}X("goToPackageStep",{goToPackageStep:R}),X("removePackageStep",{removePackageStep:ze});function R(u){f.commit("booking/setPackageId",u.id),f.commit("booking/setBookableType","package"),f.commit("booking/setMultipleAppointments",_t(0,u)),f.commit("booking/setMultipleAppointmentsIndex",0);let P=u.bookable.reduce((ue,Je)=>ue+Je.maximumScheduled,0),E=[],Q=[];m.value[0]!==$e&&E.push("ExtrasStep"),m.value[0]!==se&&E.push("DateTimeStep"),P>0?Q=Q.concat([Z,Y,w]):Q.push(w),M(m,E,Q),M(ie,E,[]),Fe(),qe()}function q(){let P=f.state.entities.packages.find(ue=>ue.id===f.getters["booking/getPackageId"]).bookable.reduce((ue,Je)=>ue+Je.maximumScheduled,0),E=[],Q=[];m.value.find(ue=>ue.name==="ExtrasStep")&&E.push("ExtrasStep"),m.value.find(ue=>ue.name==="DateTimeStep")&&E.push("DateTimeStep"),P>0?Q=Q.concat([Z,Y,w]):Q.push(w),M(m,E,Q),M(ie,E,[]),Fe(),qe()}function ze(){let u=[];m.value[0]!==se&&u.push(se),m.value[0]!==$e&&D.value&&D.value.length&&u.push($e),M(m,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],u),M(ie,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[]),Fe()}X("goToRecurringStep",{goToRecurringStep:Ne}),X("removeRecurringStep",{removeRecurringStep:V});function Ne(){let u=0;for(let P=0;P<m.value.length;P++)if(m.value[P].name==="DateTimeStep"){u=P;break}m.value.splice(u+1,0,be),m.value.splice(u+2,0,ae),Fe(),qe()}function V(){for(let u=0;u<m.value.length;u++)m.value[u].name==="RecurringStep"||m.value[u].name;for(let u=m.value.length-1;u>=0;u--)(m.value[u].name==="RecurringStep"||m.value[u].name==="RecurringSummary")&&m.value.splice(u+1,1);Fe()}let D=$(()=>{let u=f.getters["entities/getService"](f.getters["booking/getServiceId"]);return u?u.extras:[]});function C(){if(D.value.length&&!m.value.find(u=>u.name==="ExtrasStep")){let u=I.value;m.value.splice(u+1,0,$e),Fe()}ie.value.find(u=>u.name==="ExtrasStep")&&!Object.keys(D.value).length&&(m.value.splice(1,1),ie.value.splice(1,1))}X("initDataChanges",{changeInitStepDataService:C});const I=k(0);X("stepIndex",I);let vt=x("stepName",k(""));rt(I,(u,P)=>{u<ie.value.length&&(ie.value[P].selected=!1,ie.value[u].selected=!0),u===ie.value.length&&(ie.value[P].selected=!1),vt.value=m.value[u].name});let et=k(!1);X("goBackToPackageBooking",et);function ft(){Ae(!1),ce.value||(m.value[I.value].name===w.name&&(m.value.splice(I.value,1),ie.value.splice(I.value,1)),m.value[I.value].name===be.name&&(m.value.splice(I.value,2),ie.value.splice(I.value,2)),m.value[I.value].name===Z.name&&(et.value=!0),I.value=I.value-1),S.value=!S.value}function qe(){ce.value||(ie.value[I.value].finished=!0,I.value=I.value+1)}let st=$(()=>f.getters["entities/getReady"]),gt=$(()=>f.getters["booking/getLoading"]),_e=$(()=>f.getters["booking/getBooked"]),yt=$(()=>f.getters["booking/getPaymentGateway"]),tt=k(!1),O=k(!1),S=k(!1);function r(){tt.value=!0}function oe(){tt.value=!1}function De(){S.value=!0}function Ve(){S.value=!1}function Ae(u){O.value=u}function Be(){_e.value&&(_e.value.customerCabinetUrl?window.location.href=_e.value.customerCabinetUrl:window.location.href=l.roles.customerCabinet.pageUrl)}X("secondButton",{secondButtonClick:Be});let ce=k(!1);X("changingStepsFunctions",{nextStep:qe,previousStep:ft,footerButtonClick:r,footerButtonReset:oe,footerBtnDisabledUpdater:Ae,headerButtonPreviousClick:De,headerButtonPreviousReset:Ve,footerBtnDisabled:O,footerButtonClicked:tt,headerButtonPreviousClicked:S,navigateInsideStep:ce});const ie=k([]);X("sidebarSteps",ie);function Dt(u){ie.value[I.value].stepSelectedData.filter(P=>P.reference===u.reference).length?ie.value[I.value].stepSelectedData.forEach((P,E,Q)=>{P.reference===u.reference&&u.value&&u.value!==P.value&&(P.value=u.value),P.reference===u.reference&&!u.value&&Q.splice(E,1)}):u.value&&ie.value[I.value].stepSelectedData.push(u),ie.value[I.value].stepSelectedData.sort((P,E)=>P.position-E.position)}function Vt(){m.value.forEach((u,P)=>{if(u.name!=="CongratulationsStep"){let E=u.sidebarData.label,Q={name:u.name,key:u.key,label:U.value[E],labelKey:E,icon:u.sidebarData.icon,stepSelectedData:[],finished:!1,selected:P===I.value};ie.value.splice(P,0,Q)}})}St(()=>{Vt(),H()}),Ee(()=>{if(b.value){m.value.splice(0,m.value.length),ie.value.splice(0,ie.value.length),I.value=0,b.value.steps.forEach(P=>{switch(P){case"packageStep":m.value.push(ke);break;case"bringingAnyone":m.value.push(xe);break;case"initStep":m.value.push(pe);break;case"packageInfoStep":m.value.push(w);break;case"packageAppointmentsStep":m.value.push(Y);break;case"packageAppointmentsListStep":m.value.push(Z);break;case"extrasStep":m.value.push($e);break;case"dateTimeStep":m.value.push(se);break;case"recurringStep":m.value.push(be);break;case"recurringSummary":m.value.push(ae);break;case"infoStep":m.value.push(j);break;case"paymentStep":m.value.push(re);break;case"congratulations":m.value.push(G);break}let E=b.value.sidebar.find(Q=>Q.key===P);Fe(),typeof E!="undefined"&&E.data&&E.data.forEach(Q=>{Dt({reference:Q.reference,position:Q.position,value:Q.value})}),I.value++}),f.commit("booking/setLoading",!1);let u=-1;b.value.result==="success"?u=m.value.length-1:(b.value.result==="error"||b.value.result==="canceled")&&(u=m.value.length-2);for(let P=0;P<=u;P++)m.value[P].finished=!0;for(let P=0;P<=u-1;P++)ie.value[P].finished=!0,ie.value[P].selected=!1;(b.value.result==="error"||b.value.result==="canceled")&&(ie.value[u].finished=!1,ie.value[u].selected=!0),I.value=u}});function Fe(){m.value.forEach((u,P)=>{if(u.name!=="CongratulationsStep"&&!ie.value.find(E=>E.labelKey===u.sidebarData.label)){let E=u.sidebarData.label,Q={name:u.name,key:u.key,label:U.value[E],labelKey:E,icon:u.sidebarData.icon,stepSelectedData:[],finished:!1,selected:P===I.value};ie.value.splice(P,0,Q)}})}X("sidebarStepsFunctions",{sidebarDataCollector:Dt}),X("addPaymentsStep",{addPaymentsStep:Et}),X("removePaymentsStep",{removePaymentsStep:Lt});function Et(){m.value.splice(m.value.length-1,0,re),Fe()}function Lt(){let u=["PaymentStep"];M(m,u,[]),M(ie,u,[])}function Ut(){if(f.getters["entities/getPreselected"].show==="packages"){let P=f.getters["booking/getPackageId"]?[f.getters["entities/getPackage"](f.getters["booking/getPackageId"])]:f.getters["entities/getPackages"];return P.length>0&&P.filter(E=>E.price>0).length===P.length}if(!f.getters["booking/getPackageId"]){let P=f.getters["booking/getServiceId"]?[f.getters["entities/getService"](f.getters["booking/getServiceId"])]:f.getters["entities/getServices"],E=0;for(let Q of P){let ue=f.getters["booking/getEmployeeId"]?f.getters["entities/getEmployee"](f.getters["booking/getEmployeeId"])?[f.getters["entities/getEmployee"](f.getters["booking/getEmployeeId"])]:[]:f.getters["entities/getEmployees"];if(ue.filter(Ge=>Ge.serviceList.find(Ie=>Ie.id===Q.id&&(Ie.price>0||Ie.customPricing&&Ie.customPricing.enabled&&(Object.values(Ie.customPricing.durations).length===Object.values(Ie.customPricing.durations).filter(ht=>ht.price>0).length||f.getters["booking/getDuration"]&&Ie.customPricing.durations[f.getters["booking/getDuration"]].price>0)))).length===ue.filter(Ge=>Ge.serviceList.find(Ie=>Ie.id===Q.id)).length)E++;else{let Ge=f.getters["booking/getSelectedExtras"].length?f.getters["booking/getSelectedExtras"]:[];Ge.length>0&&Ge.reduce((Ie,ht)=>Ie+ht.price,0)>0&&E++}}return P.length>0&&E===P.length}return f.getters["entities/getPackage"](f.getters["booking/getPackageId"]).price>0}let Wt=$(()=>Ut());ma(()=>{!b.value&&!Wt.value?Lt():b.value||m.value.indexOf(re)===-1&&Et()},{flush:"post"});let ge=$(()=>l.customizedData?l.customizedData.sbsNew.colors:Xe.sbsNew.colors);X("amColors",ge);let jt=$(()=>({"--am-c-primary":ge.value.colorPrimary,"--am-c-success":ge.value.colorSuccess,"--am-c-error":ge.value.colorError,"--am-c-warning":ge.value.colorWarning,"--am-c-main-bgr":ge.value.colorMainBgr,"--am-c-main-heading-text":ge.value.colorMainHeadingText,"--am-c-main-text":ge.value.colorMainText,"--am-c-sb-bgr":ge.value.colorSbBgr,"--am-c-sb-text":ge.value.colorSbText,"--am-c-inp-bgr":ge.value.colorInpBgr,"--am-c-inp-border":ge.value.colorInpBorder,"--am-c-inp-text":ge.value.colorInpText,"--am-c-inp-placeholder":ge.value.colorInpPlaceHolder,"--am-c-drop-bgr":ge.value.colorDropBgr,"--am-c-drop-text":ge.value.colorDropText,"--am-c-btn-prim":ge.value.colorBtnPrim,"--am-c-btn-prim-text":ge.value.colorBtnPrimText,"--am-c-btn-sec":ge.value.colorBtnSec,"--am-c-btn-sec-text":ge.value.colorBtnSecText,"--am-c-skeleton-op20":ee(ge.value.colorMainText,.2),"--am-c-skeleton-op60":ee(ge.value.colorMainText,.6),"--am-font-family":h.value.fontFamily,"--am-mw-main":n.value?d.value?"592px":"760px":"520px","--am-brad-main":n.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function Ht(){let u=document.head||document.getElementsByTagName("head")[0];u.querySelector("#amCustomFont")&&u.querySelector("#amCustomFont").remove();let P=`@font-face {font-family: '${h.value.fontFamily}'; src: url(${h.value.fontUrl});}`,E=document.createElement("style");u.appendChild(E),E.setAttribute("type","text/css"),E.setAttribute("id","amCustomFont"),E.appendChild(document.createTextNode(P))}h.value.customFontSelected&&Ht();let qt=$(()=>({colorInputBorderRadius:"6px"}));return X("amDesignProperties",qt),Ee(()=>{pa("renderForm",{ameliaContainer:g,containerWidth:_,empty:F,amCustomize:s,amFonts:h,sidebarCollapsed:d,sidebarCollapseItemsClass:N,sidebarFooterRef:L,sidebarFooterHeight:z,sidebarVisibility:n})}),(u,P)=>(a(),i(te,null,[h.value.customFontSelected?p("",!0):(a(),i(te,{key:0},[rs,us,t("link",{rel:"stylesheet",type:"text/css",href:`${e(T).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,ds)],64)),e(F)?(a(),i("div",Es,[t("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ls),t("h1",null,o(e(U).oops),1),t("h3",null,o(e(U).no_services_employees),1),t("p",null,o(e(U).add_services_employees),1),t("a",Is,o(e(U).add_services_url)+"\xA0 ",1),t("span",Ts,o(e(U).and)+"\xA0",1),t("a",Bs,o(e(U).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:g,class:B(["am-fs__wrapper",{"am-collapsed":e(d)}]),style:ve(e(jt))},[e(_)>560&&e(n)?(a(),ye(fa,{key:0,class:B(["am-fs-sb",{"am-collapsed":e(d)}]),style:ve({width:e(d)?"72px":"240px",paddingBottom:`${e(z)+16}px`})},{"step-list":A(()=>[t("div",ms,[m.value[I.value]!==e(G)||!e(l).general.addToCalendar||e(_e)&&e(_e).data.length===0?(a(!0),i(te,{key:0},me(ie.value,E=>(a(),i("div",{key:E.key,class:"am-fs-sb__step"},[t("div",ps,[t("div",_s,[t("span",{class:B(`am-icon-${E.icon}`)},null,2)]),W(Re,{name:"fade"},{default:A(()=>[e(d)?p("",!0):(a(),i("p",{key:0,class:B(["am-fs-sb__step-heading",e(N)])},o(E.label),3))]),_:2},1024),t("div",{class:B(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":E.selected},e(N)]])},[W(Re,{name:"fade"},{default:A(()=>[E.finished?(a(),i("span",vs)):p("",!0)]),_:2},1024)],2)]),W(_a,{tag:"span",name:"fade",appear:"",class:B(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":E.key===e(Y).key&&E.stepSelectedData.length>3}])},{default:A(()=>[e(d)?p("",!0):(a(!0),i(te,{key:0},me(E.stepSelectedData,(Q,ue)=>(a(),i("p",{key:Q.position,class:"am-fs-sb__step-selection"},[E.key!==e(Y).key||ue<3?(a(),i("span",fs,o(Q.value),1)):(a(),i("span",gs,o(e(U).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",ys,[W(Re,{name:"fade"},{default:A(()=>[e(d)?p("",!0):(a(),ye(va,{key:0}))]),_:1}),e(d)?(a(),i("div",hs,[t("div",bs,[t("div",ks,[t("span",{class:B(`am-icon-${m.value[I.value].sidebarData.icon}`)},null,2)]),t("div",{class:B(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":m.value[I.value].sidebarData.selected},e(N)]])},[W(Re,{name:"fade"},{default:A(()=>[m.value[I.value].sidebarData.finished?(a(),i("span",$s)):p("",!0)]),_:1})],2)])])):p("",!0)]))])]),"support-info":A(()=>[t("div",{ref_key:"sidebarFooterRef",ref:L,class:"am-fs-sb__footer"},[(e(l).company.email||e(l).company.phone)&&(e(c).heading||e(c).phone||e(c).email)?(a(),i("div",ws,[W(Re,{name:"fade"},{default:A(()=>[!e(d)&&e(c).heading?(a(),i("div",{key:0,class:B(["am-fs-sb__support-heading",e(N)])},o(e(U).get_in_touch),3)):p("",!0)]),_:1}),e(l).company.phone&&e(c).phone?(a(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(l).company.phone}`},[e(d)?(a(),i("span",Ss)):(a(),i(te,{key:0},[Se(o(e(l).company.phone),1)],64))],8,Cs)):p("",!0),e(l).company.email&&e(c).email?(a(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(l).company.email}`},[e(d)?(a(),i("span",Ps)):(a(),i(te,{key:0},[Se(o(e(l).company.email),1)],64))],8,xs)):p("",!0)])):p("",!0),t("div",{class:B(["am-fs-sb__menu",e(N)]),onClick:P[0]||(P[0]=E=>de(d)?d.value=!e(d):d=!e(d))},[W(Re,{name:"fade"},{default:A(()=>[e(d)?p("",!0):(a(),i("span",Ds,o(e(U).collapse_menu),1))]),_:1}),t("span",{class:B(`am-icon-arrow-circle-${e(d)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):p("",!0),W(ha,null,pt({step:A(()=>[(a(),ye(Ft(m.value[I.value]),{"global-class":"am-fs__main-content"}))]),footer:A(()=>[W(e(ya),{"second-button-show":m.value[I.value]===e(G)&&e(l).roles.customerCabinet.enabled&&e(l).roles.customerCabinet.pageUrl!==null,booked:e(_e),loading:e(gt),ready:e(st),"payment-gateway":e(yt),"customized-labels":e(le),"primary-footer-button-type":e(fe),"secondary-footer-button-type":e(je)},null,8,["second-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type"])]),_:2},[m.value[I.value]!==e(G)?{name:"header",fn:A(()=>[W(ga,{"sidebar-visible":e(n),ready:e(st)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const zs={class:"am-fcis__header-text"},As={class:"am-fcis__header-name"},Rs={key:0,class:"am-fcis__badge am-service"},Ms=t("span",{class:"am-icon-service"},null,-1),Os={class:"am-fcis__header-action"},Ns={key:0,class:"am-fcis__header-price"},Vs={class:"am-fcis__header-btn"},Us={key:0,class:"am-fcis__header-bottom"},Ws={class:"am-fcis__mini-info"},js={key:0,class:"am-fcis__mini-info__inner"},Hs=t("span",{class:"am-icon-folder"},null,-1),qs={key:1,class:"am-fcis__mini-info__inner"},Js=t("span",{class:"am-icon-clock"},null,-1),Gs={key:2,class:"am-fcis__mini-info__inner"},Qs=t("span",{class:"am-icon-user"},null,-1),Xs={key:3,class:"am-fcis__mini-info__inner"},Ys=t("span",{class:"am-icon-locations"},null,-1),Zs={key:0,class:"am-fcis__gallery"},Ks={key:0,class:"am-fcis__gallery-thumb__wrapper"},el={class:"am-gd__display-wrapper"},tl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},al=["src","alt"],il={class:"am-gd__selection"},sl={class:"am-gd__thumb-wrapper"},ll=["onClick"],nl={key:1,class:"am-fcis__info"},ol={class:"am-fcis__info-tab__wrapper"},cl={class:"am-fcis__info-content__wrapper"},rl={key:0,class:"am-fcis__info-content"},ul=["innerHTML"],dl={key:1,class:"am-fcis__info-content"},ml={class:"am-fcis__info-employee__hero"},pl={class:"am-fcis__info-employee__heading"},_l={class:"am-fcis__info-employee__name"},vl={key:0,class:"am-fcis__info-employee__price"},fl=["innerHTML"],gl={key:2,class:"am-fcis__include-wrapper"},yl={class:"am-fcis__include-heading"},hl={class:"am-fcis__include-heading__text"},bl=["onClick"],kl={class:"am-fcis__include-hero"},$l={key:0,class:"am-fcis__include-cost"},wl={key:0,class:"am-fcis__include-discount"},Cl={class:"am-fcis__include-price"},Sl={class:"am-fcis__include-info"},xl={key:0,class:"am-fcis__include-info__inner"},Pl=t("span",{class:"am-icon-folder"},null,-1),Dl={key:1,class:"am-fcis__include-info__inner"},El=t("span",{class:"am-icon-clock"},null,-1),Ll={key:0},Il={key:1},Tl={key:2},Bl={key:2,class:"am-fcis__include-info__inner"},Fl=t("span",{class:"am-icon-user"},null,-1),zl=t("span",null,"1/1",-1),Al=[Fl,zl],Rl={key:3,class:"am-fcis__include-info__inner"},Ml=t("span",{class:"am-icon-locations"},null,-1),Ol={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Nl={key:1,ref:"ameliaContainer",class:"am-empty"},Vl=["src"],Ul={class:"am-empty__heading"},Wl={class:"am-empty__subheading"},jl={class:"am-empty__text"},Hl={key:0},ql={href:"https://wpamelia.com/services-and-categories/"},Jl={key:1},Gl={key:2,href:"https://wpamelia.com/employees/"},Ql={name:"CategoryService"},Xl=Object.assign(Ql,{setup(y){let g=x("licence"),{previousPage:_}=x("changingPageFunctions",{previousPage:()=>{}}),F=$(()=>n.getters["entities/getReady"]);const v=x("baseUrls");let l=k(),s=x("containerWidth");const c=x("settings");let h=x("amFonts");const d=x("labels"),N=x("localLanguage");let he=$(()=>c.general.usedLanguages.includes(N.value)),L=$(()=>{let V=We(He({},d));if(c.customizedData&&c.customizedData.cbf&&c.customizedData.cbf.categoryService.translations){let D=c.customizedData.cbf.categoryService.translations;Object.keys(D).forEach(C=>{D[C][N.value]&&he.value?V[C]=D[C][N.value]:D[C].default&&(V[C]=D[C].default)})}return V}),z=k(0),n=Ke(),T=x("amEntities"),f=x("customizedDataForm"),J=$(()=>f.value.categoryService.options),b=x("itemType"),pe=x("categorySelected"),$e=$(()=>T.value.categories.find(V=>V.id===pe.value)),w=$(()=>{let V=T.value.services.find(D=>D.id===n.getters["booking/getServiceId"]);return V||{}});function be(V,D){return Pe(V,D).length===1?Pe(V,D)[0].address?Pe(V,D)[0].address:Pe(V,D)[0].name:L.value.multiple_locations}let ae=k("description"),se=$(()=>{let V=[];return Object.keys(T.value.entitiesRelations).forEach(C=>{T.value.entitiesRelations[C][w.value.id]&&T.value.employees.find(I=>I.id===parseInt(C))&&V.push(T.value.employees.find(I=>I.id===parseInt(C)))}),V});function Y(V){let D=V.serviceList.find(C=>C.id===w.value.id).price;return D-w.value.price!==0?`${D-w.value.price>0?"+":"-"} ${Ue(D-w.value.price)}`:""}Ee(()=>{J.value.serviceDescription.visibility||(ae.value="employees"),w.value.description||(ae.value="employees")});let Z=$(()=>{let V=w.value.gallery.length?JSON.parse(JSON.stringify(w.value.gallery)):[];return w.value.gallery.length===1?[]:(V.shift(),V.length>2&&V.splice(2,V.length-2),V)}),G=$(()=>{let V=[];return T.value.packages.forEach(D=>{D.bookable.filter(C=>C.service.id===w.value.id).length&&!V.filter(C=>C.id===D.id).length&&D.available&&D.status==="visible"&&V.push(D)}),V}),j=k(!1),re=$(()=>{let V=[...G.value];return j.value?V:V.slice(0,2)}),ke=$(()=>n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]));function xe(){b.value="",Ce(()=>{_()})}let m=k(!1),K=k("760px");X("bookingDialogWidth",K);function ne(){se.value.length===1&&n.commit("booking/setEmployeeId",parseInt(se.value[0].id)),Pe(T.value,w.value.id).length===1&&n.commit("booking/setLocationId",parseInt(Pe(T.value,w.value.id)[0].id)),n.commit("booking/setBookableType","appointment"),m.value=!0}x("restoreFormData").value&&ne();function U(V){n.commit("booking/setPackageId",V.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",_t(0,V)),n.commit("booking/setMultipleAppointmentsIndex",0),se.value.length===1&&n.commit("booking/setEmployeeId",parseInt(se.value[0].id)),Pe(T.value,w.value.id).length===1&&n.commit("booking/setLocationId",parseInt(Pe(T.value,w.value.id)[0].id)),Ce(()=>{m.value=!0})}const le=x("shortcodeData");let fe=k("");X("stepName",fe);function je(){let V=n.getters["entities/getBookableFromBookableEntities"](n.getters["booking/getSelection"]),D=V.settings?JSON.parse(V.settings):c;"general"in D&&"redirectUrlAfterAppointment"in D.general&&D.general.redirectUrlAfterAppointment?window.location.href=D.general.redirectUrlAfterAppointment:c.general.redirectUrlAfterAppointment?window.location.href=c.general.redirectUrlAfterAppointment:window.location.reload()}function Oe(){if(fe.value&&fe.value==="CongratulationsStep")je();else{n.commit("booking/setEmployeeId",null),n.commit("booking/setLocationId",null);let V=$(()=>({category:le.value.category,counter:le.value.counter,employee:le.value.employee,hasApiCall:le.value.hasApiCall,location:le.value.location,service:le.value.service,show:le.value.show,trigger:le.value.trigger}));n.commit("entities/setPreselected",V.value)}K.value="760px"}let H=k(!1);function M(V,D){let C="";return V>1?(D==="day"&&(C=L.value.expires_days),D==="week"&&(C=L.value.expires_weeks),D==="month"&&(C=L.value.expires_months)):(D==="day"&&(C=L.value.expires_day),D==="week"&&(C=L.value.expires_week),D==="month"&&(C=L.value.expires_month)),C}let R=$(()=>Object.keys(w.value).length===0||se.value.length===0),q=x("amColors"),ze=$(()=>({"--am-c-fcis-success-op20":ee(q.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(q.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(q.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(q.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(q.value.colorBtnSec,.5)})),Ne=$(()=>({"--am-c-fcis-bgr":q.value.colorMainBgr,"--am-c-fcis-text":q.value.colorMainText,"--am-c-fcis-success":q.value.colorSuccess,"--am-c-fcis-primary":q.value.colorPrimary,"--am-c-scroll-op30":ee(q.value.colorPrimary,.3),"--am-c-scroll-op10":ee(q.value.colorPrimary,.1),"--am-font-family":h.fontFamily}));return(V,D)=>e(F)?(a(),i(te,{key:0},[e(R)?p("",!0):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:l,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":"am-fcis__content",style:ve(e(ze))},pt({heading:A(()=>[t("div",{class:B([[{"am-tablet":e(s)<=678},{"am-mobile":e(s)<450}],"am-fcis__header-top"])},[t("div",zs,[t("span",As,o(e(w).name),1),e(J).serviceBadge.visibility?(a(),i("div",Rs,[Ms,t("span",null,o(e(L).heading_service),1)])):p("",!0)]),t("div",Os,[e(J).servicePrice.visibility?(a(),i("span",Ns,o(e(Ze)(e(T),e(w).id).min||e(Ze)(e(T),e(w).id).max?e(Ze)(e(T),e(w).id).price:e(L).free),1)):p("",!0),t("span",Vs,[W(Le,{type:e(J).bookingBtn.buttonType,onClick:ne},{default:A(()=>[Se(o(e(L).book_now),1)]),_:1},8,["type"])])])],2),e(J).serviceCategory.visibility||e(J).serviceDuration.visibility||e(J).serviceCapacity.visibility||e(J).serviceLocation.visibility?(a(),i("div",Us,[t("div",Ws,[e(J).serviceCategory.visibility?(a(),i("div",js,[Hs,t("span",null,o(e($e).name),1)])):p("",!0),e(J).serviceDuration.visibility?(a(),i("div",qs,[Js,t("span",null,o(e(At)(e(w).duration)),1)])):p("",!0),e(J).serviceCapacity.visibility&&!e(g).isLite?(a(),i("div",Gs,[Qs,t("span",null,o(e(zt)(e(T),e(w).id)),1)])):p("",!0),e(Pe)(e(T),e(w).id).length&&e(J).serviceLocation.visibility?(a(),i("div",Xs,[Ys,t("span",null,o(be(e(T),e(w).id)),1)])):p("",!0)])])):p("",!0)]),content:A(()=>[e(w).gallery.length?(a(),i("div",Zs,[t("div",{class:B(["am-fcis__gallery-hero",[{w100:e(w).gallery.length===1},{"am-mobile w100":e(s)<678}]]),style:ve({backgroundImage:`url(${e(w).gallery[0].pictureFullPath})`})},null,6),e(Z).length&&e(s)>677?(a(),i("div",Ks,[(a(!0),i(te,null,me(e(Z),(C,I)=>(a(),i("div",{key:I,class:B(["am-fcis__gallery-thumb",{"am-one-thumb":e(Z).length===1}]),style:ve({backgroundImage:`url(${C.pictureFullPath})`})},null,6))),128))])):p("",!0),W(Le,{"custom-class":`am-fcis__gallery-btn${e(s)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:D[0]||(D[0]=()=>de(H)?H.value=!0:H=!0)},{default:A(()=>[Se(o(e(L).view_all_photos),1)]),_:1},8,["custom-class"])])):p("",!0),W(it,{modelValue:e(H),"onUpdate:modelValue":D[4]||(D[4]=C=>de(H)?H.value=C:H=C),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ve(e(Ne))},[t("div",el,[t("div",tl,[t("span",{class:"am-icon-arrow-left",onClick:D[1]||(D[1]=()=>de(z)?z.value=e(z)<=0?e(w).gallery.length-1:e(z)-1:z=e(z)<=0?e(w).gallery.length-1:e(z)-1)}),t("span",{class:"am-icon-arrow-right",onClick:D[2]||(D[2]=()=>de(z)?z.value=e(w).gallery.length-1===e(z)?0:e(z)+1:z=e(w).gallery.length-1===e(z)?0:e(z)+1)})]),(a(!0),i(te,null,me(e(w).gallery,(C,I)=>(a(),i("div",{key:I,class:"am-gd__display",style:ve({display:I===e(z)?"flex":"none"}),onClick:D[3]||(D[3]=()=>de(z)?z.value=e(w).gallery.length-1===e(z)?0:e(z)+1:z=e(w).gallery.length-1===e(z)?0:e(z)+1)},[t("img",{src:C.pictureFullPath,alt:I},null,8,al)],4))),128))]),t("div",il,o(`${e(z)+1}/${e(w).gallery.length}`),1),t("div",sl,[(a(!0),i(te,null,me(e(w).gallery,(C,I)=>(a(),i("div",{key:I,class:B(["am-gd__thumb",{"am-active":I===e(z)}]),style:ve({backgroundImage:`url(${C.pictureFullPath})`}),onClick:()=>de(z)?z.value=I:z=I},null,14,ll))),128))])],4)]),_:1},8,["modelValue"]),e(J).serviceDescription.visibility&&e(w).description||e(J).serviceEmployees.visibility?(a(),i("div",nl,[t("div",ol,[e(w).description&&e(J).serviceDescription.visibility?(a(),i("div",{key:0,class:B(["am-fcis__info-tab",{"am-active":e(ae)==="description"}]),onClick:D[5]||(D[5]=()=>de(ae)?ae.value="description":ae="description")},o(e(L).about_service),3)):p("",!0),e(J).serviceEmployees.visibility&&!e(g).isLite?(a(),i("div",{key:1,class:B([{"am-active":e(ae)==="employees"},"am-fcis__info-tab"]),onClick:D[6]||(D[6]=()=>de(ae)?ae.value="employees":ae="employees")},o(e(L).tab_employees),3)):p("",!0)]),t("div",cl,[e(w).description&&e(J).serviceDescription.visibility?ut((a(),i("div",rl,[t("div",{class:B(["am-fcis__info-service__desc",{"ql-description":e(w).description.includes("<!-- Content -->")}]),innerHTML:e(w).description},null,10,ul)],512)),[[dt,e(ae)==="description"]]):p("",!0),e(J).serviceEmployees.visibility?ut((a(),i("div",dl,[W(ot,null,{default:A(()=>[(a(!0),i(te,null,me(e(se),C=>(a(),ye(ct,{key:C.id,side:""},{heading:A(()=>[t("div",{class:B([{"am-mobile":e(s)<451},"am-fcis__info-employee"])},[t("div",ml,[W(Ye,{"item-class":"am-fcis__info-employee__img","item-data":C,"trim-string":3},null,8,["item-data"]),t("div",pl,[t("div",_l,o(C.firstName)+" "+o(C.lastName),1),Y(C)&&e(J).serviceEmployeePrice.visibility?(a(),i("div",vl,o(Y(C)),1)):p("",!0)])])],2)]),default:A(()=>[C.description?(a(),i("div",{key:0,class:B(["am-fcis__info-employee__description",{"ql-description":C.description.includes("<!-- Content -->")}]),innerHTML:C.description},null,10,fl)):p("",!0)]),_:2},1024))),128))]),_:1})],512)),[[dt,e(ae)==="employees"]]):p("",!0)])])):p("",!0),e(G).length&&e(le).show!=="services"&&e(J).servicePackages.visibility?(a(),i("div",gl,[t("div",yl,[t("span",hl,o(e(L).service_available_in_package),1),e(G).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:D[7]||(D[7]=()=>de(j)?j.value=!e(j):j=!e(j))},[e(j)?(a(),i(te,{key:1},[Se(o(e(L).less_packages),1)],64)):(a(),i(te,{key:0},[Se(o(e(L).more_packages),1)],64))])):p("",!0)]),(a(!0),i(te,null,me(e(re),C=>(a(),i("div",{key:C.id,class:"am-fcis__include",onClick:I=>U(C)},[t("div",kl,[e(s)>450?(a(),ye(Ye,{key:0,"item-class":"am-fcis__include-img","item-data":C,"trim-string":3},null,8,["item-data"])):p("",!0),t("div",{class:B([{"am-mobile":e(s)<451},"am-fcis__include-text"])},[t("div",{class:B(["am-fcis__include-header",{"am-mobile":e(s)<600}])},[t("div",{class:B(["am-fcis__include-name",{"am-mobile":e(s)<600}])},o(C.name),3),e(J).packagePrice.visibility?(a(),i("div",$l,[C.discount?(a(),i("span",wl,o(`${e(L).save} ${C.discount}%`),1)):p("",!0),t("span",Cl,o(C.price?e(Ue)(C.calculatedPrice?C.price:C.price-C.price/100*C.discount):e(L).free),1)])):p("",!0)],2),t("div",Sl,[e(J).packageCategory.visibility?(a(),i("div",xl,[Pl,t("span",null,o(e($e).name),1)])):p("",!0),e(J).packageDuration.visibility?(a(),i("div",Dl,[El,C.endDate?(a(),i("span",Ll,o(`${e(L).expires_at} ${C.endDate.split(" ")[0]}`),1)):C.durationCount?(a(),i("span",Il,o(`${e(L).expires_after} ${C.durationCount} ${M(C.durationCount,C.durationType)}`),1)):(a(),i("span",Tl,o(e(L).without_expiration),1))])):p("",!0),e(J).packageCapacity.visibility?(a(),i("div",Bl,Al)):p("",!0),e(J).packageLocation.visibility&&e(ke).length?(a(),i("div",Rl,[Ml,t("span",null,o(e(ke).length===1?e(ke)[0].address?e(ke)[0].address:e(ke)[0].name:e(L).multiple_locations),1)])):p("",!0),e(J).packageServices.visibility?(a(),i("div",Ol,[t("span",null,o(`${e(L).in_package}:`),1),(a(!0),i(te,null,me(C.bookable,I=>(a(),i("span",{key:I.id},o(I.service.name),1))),128))])):p("",!0)])],2)])],8,bl))),128))])):p("",!0),W(it,{modelValue:e(m),"onUpdate:modelValue":D[8]||(D[8]=C=>de(m)?m.value=C:m=C),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(K),onClosed:Oe},{default:A(()=>[W(Nt)]),_:1},8,["modelValue","width"])]),_:2},[e(le).service?void 0:{name:"header",fn:A(()=>[W(xt,{"btn-string":e(L).back_btn,"btn-type":e(J).backBtn.buttonType,onClick:xe},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(R)?(a(),i("div",Nl,[t("img",{src:e(v).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Vl),t("div",Ul,o(e(L).oops),1),t("div",Wl,o(e(le).show!=="packages"?e(L).no_services_employees:e(L).no_package_services),1),t("div",jl,[e(le).show!=="packages"?(a(),i("span",Hl,o(e(L).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",ql,o(e(L).add_services_url)+"\xA0 ",1),e(le).show!=="packages"?(a(),i("span",Jl,o(e(L).and)+"\xA0 ",1)):p("",!0),e(le).show!=="packages"?(a(),i("a",Gl,o(e(L).add_employees_url),1)):p("",!0)])],512)):p("",!0)],64)):p("",!0)}});const Yl={class:"am-fcip__header-text"},Zl={class:"am-fcip__header-name"},Kl={key:0,class:"am-fcip__badge am-package"},en=t("span",{class:"am-icon-shipment"},null,-1),tn={class:"am-fcip__header-action"},an={key:0,class:"am-fcip__header-discount"},sn={key:1,class:"am-fcip__header-price"},ln={class:"am-fcip__header-btn"},nn={key:0,class:"am-fcip__header-bottom"},on={class:"am-fcip__mini-info"},cn={key:0,class:"am-fcip__mini-info__inner"},rn=t("span",{class:"am-icon-folder"},null,-1),un={key:1,class:"am-fcip__mini-info__inner"},dn=t("span",{class:"am-icon-clock"},null,-1),mn={key:0},pn={key:1},_n={key:2},vn={key:2,class:"am-fcip__mini-info__inner"},fn=t("span",{class:"am-icon-user"},null,-1),gn=t("span",null,"1/1",-1),yn=[fn,gn],hn={key:3,class:"am-fcip__mini-info__inner"},bn=t("span",{class:"am-icon-locations"},null,-1),kn={key:0,class:"am-fcip__gallery"},$n={key:0,class:"am-fcip__gallery-thumb__wrapper"},wn=t("span",{class:"am-icon-gallery"},null,-1),Cn={class:"am-gd__display-wrapper"},Sn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},xn=["src","alt"],Pn={class:"am-gd__selection"},Dn={class:"am-gd__thumb-wrapper"},En=["onClick"],Ln={key:1,class:"am-fcip__info"},In={class:"am-fcip__info-tab__wrapper"},Tn={class:"am-fcip__info-content__wrapper"},Bn={key:0,class:"am-fcip__info-content"},Fn=["innerHTML"],zn={key:1,class:"am-fcip__info-content"},An={class:"am-fcip__info-employee"},Rn={class:"am-fcip__info-employee__hero"},Mn={class:"am-fcip__info-employee__name"},On=["innerHTML"],Nn={key:2,class:"am-fcip__include-wrapper"},Vn={class:"am-fcip__include-heading"},Un={class:"am-fcip__include-heading__text"},Wn={class:"am-fcip__include-service"},jn={class:"am-fcip__include-service__info"},Hn={key:0},qn=["innerHTML"],Jn={class:"am-fcip__include-footer"},Gn={class:"am-fcip__include-footer__text"},Qn={key:1,ref:"ameliaContainer",class:"am-empty"},Xn=["src"],Yn={class:"am-empty__heading"},Zn={class:"am-empty__subheading"},Kn={class:"am-empty__text"},eo={href:"https://wpamelia.com/services-and-categories/"},to={name:"CategoryPackage"},ao=Object.assign(to,{setup(y){let{previousPage:g}=x("changingPageFunctions",{previousPage:()=>{}}),_=k(),F=x("containerWidth");const v=x("settings"),l=x("baseUrls");let s=Ke();const c=x("shortcodeData");let h=x("amEntities"),d=x("customizedDataForm"),N=$(()=>d.value.categoryPackage.options),he=x("itemType"),L=x("categorySelected"),z=$(()=>h.value.categories.find(H=>H.id===L.value)),n=$(()=>h.value.packages.find(H=>H.id===s.getters["booking/getPackageId"])),T=k(0),f=k("description"),J=$(()=>Ot(h.value,n.value)),b=$(()=>Qe(h.value,n.value)),pe=k(c.value.employee?h.value.unfilteredEmployees.filter(H=>H.id===parseInt(c.value.employee)):h.value.unfilteredEmployees);function $e(H){let M=[];return H.providers.length?H.providers.forEach(R=>{pe.value.find(q=>q.id===parseInt(R.id))&&M.push(pe.value.find(q=>q.id===parseInt(R.id)))}):M=pe.value.filter(R=>R.serviceList.find(q=>q.id===H.service.id)),M}Ee(()=>{N.value.packageDescription.visibility||(f.value="employees"),n.value.description||(f.value="employees")});let w=k(!1);St(()=>{w.value=s.getters["entities/getEmployees"].length===0||J.value.length===0});let be=k(!1),ae=$(()=>{let H=n.value.gallery.length?JSON.parse(JSON.stringify(n.value.gallery)):[];return n.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)});function se(){he.value="",Ce(()=>{g()})}let Y=k(!1),Z=k("760px");X("bookingDialogWidth",Z);function G(){s.commit("booking/setMultipleAppointments",_t(0,n.value)),s.commit("booking/setMultipleAppointmentsIndex",0),s.commit("booking/setBookableType","package"),Ce(()=>{Y.value=!0})}x("restoreFormData").value&&G();let re=k("");X("stepName",re);function ke(){let H=s.getters["entities/getBookableFromBookableEntities"](s.getters["booking/getSelection"]),M=H.settings?JSON.parse(H.settings):v;"general"in M&&"redirectUrlAfterAppointment"in M.general&&M.general.redirectUrlAfterAppointment?window.location.href=M.general.redirectUrlAfterAppointment:v.general.redirectUrlAfterAppointment?window.location.href=v.general.redirectUrlAfterAppointment:window.location.reload()}function xe(){if(re.value&&re.value==="CongratulationsStep")ke();else{let H=$(()=>({category:c.value.category,counter:c.value.counter,employee:c.value.employee,hasApiCall:c.value.hasApiCall,location:c.value.location,service:c.value.service,show:c.value.show,trigger:c.value.trigger}));s.commit("entities/setPreselected",H.value)}Z.value="760px"}let m=x("amFonts");const K=x("labels"),ne=x("localLanguage");let Te=$(()=>v.general.usedLanguages.includes(ne.value)),U=$(()=>{let H=We(He({},K));if(v.customizedData&&v.customizedData.cbf&&v.customizedData.cbf.categoryPackage.translations){let M=v.customizedData.cbf.categoryPackage.translations;Object.keys(M).forEach(R=>{M[R][ne.value]&&Te.value?H[R]=M[R][ne.value]:M[R].default&&(H[R]=M[R].default)})}return H});function le(H,M){let R="";return H>1?(M==="day"&&(R=U.value.expires_days),M==="week"&&(R=U.value.expires_weeks),M==="month"&&(R=U.value.expires_months)):(M==="day"&&(R=U.value.expires_day),M==="week"&&(R=U.value.expires_week),M==="month"&&(R=U.value.expires_month)),R}let fe=x("amColors"),je=$(()=>({"--am-c-fcip-success-op20":ee(fe.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(fe.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(fe.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(fe.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(fe.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(fe.value.colorBtnSec,.5)})),Oe=$(()=>({"--am-c-fcip-bgr":fe.value.colorMainBgr,"--am-c-fcip-text":fe.value.colorMainText,"--am-c-fcip-success":fe.value.colorSuccess,"--am-c-fcip-primary":fe.value.colorPrimary,"--am-c-scroll-op30":ee(fe.value.colorPrimary,.3),"--am-c-scroll-op10":ee(fe.value.colorPrimary,.1),"--am-font-family":m.fontFamily}));return(H,M)=>(a(),i(te,null,[e(w)?p("",!0):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:_,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":"am-fcip__content",style:ve(e(je))},pt({heading:A(()=>[t("div",{class:B([[{"am-tablet":e(F)<=678},{"am-mobile":e(F)<450}],"am-fcip__header-top"])},[t("div",Yl,[t("span",Zl,[t("span",null,o(e(n).name),1)]),e(N).packageBadge.visibility?(a(),i("div",Kl,[en,t("span",null,o(e(U).package),1)])):p("",!0)]),t("div",tn,[e(n).discount&&e(N).packagePrice.visibility?(a(),i("span",an,o(`${e(U).save} ${e(n).discount}%`),1)):p("",!0),e(N).packagePrice.visibility?(a(),i("span",sn,o(e(n).price?e(Ue)(e(n).calculatedPrice?e(n).price:e(n).price-e(n).price/100*e(n).discount):e(U).free),1)):p("",!0),t("span",ln,[W(Le,{type:e(N).bookingBtn.buttonType,onClick:G},{default:A(()=>[Se(o(e(U).book_now),1)]),_:1},8,["type"])])])],2),e(N).packageCategory.visibility&&!e(c).package||e(N).packageDuration.visibility||e(N).packageCapacity.visibility||e(N).packageLocation.visibility&&e(b).length?(a(),i("div",nn,[t("div",on,[!e(c).package&&e(N).packageBadge.visibility?(a(),i("div",cn,[rn,t("span",null,o(e(z).name),1)])):p("",!0),e(N).packageDuration.visibility?(a(),i("div",un,[dn,e(n).endDate?(a(),i("span",mn,o(`${e(U).expires_at} ${e(n).endDate.split(" ")[0]}`),1)):e(n).durationCount?(a(),i("span",pn,o(`${e(U).expires_after} ${e(n).durationCount} ${le(e(n).durationCount,e(n).durationType)}`),1)):(a(),i("span",_n,o(e(U).without_expiration),1))])):p("",!0),e(N).packageCapacity.visibility?(a(),i("div",vn,yn)):p("",!0),e(b).length&&e(N).packageLocation.visibility?(a(),i("div",hn,[bn,t("span",null,o(e(b).length===1?e(b)[0].address?e(b)[0].address:e(b)[0].name:e(U).multiple_locations),1)])):p("",!0)])])):p("",!0)]),content:A(()=>[e(n).gallery.length?(a(),i("div",kn,[t("div",{class:B(["am-fcip__gallery-hero",[{w100:e(n).gallery.length===1},{"am-mobile w100":e(F)<678}]]),style:ve({backgroundImage:`url(${e(n).gallery[0].pictureFullPath})`})},null,6),e(ae).length&&e(F)>677?(a(),i("div",$n,[(a(!0),i(te,null,me(e(ae),(R,q)=>(a(),i("div",{key:q,class:B(["am-fcip__gallery-thumb",{"am-one-thumb":e(ae).length===1}]),style:ve({backgroundImage:`url(${R.pictureFullPath})`})},null,6))),128))])):p("",!0),W(Le,{"custom-class":`am-fcip__gallery-btn${e(F)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:M[0]||(M[0]=()=>de(be)?be.value=!0:be=!0)},{default:A(()=>[wn,t("span",null,o(e(U).view_all_photos),1)]),_:1},8,["custom-class"])])):p("",!0),W(it,{modelValue:e(be),"onUpdate:modelValue":M[4]||(M[4]=R=>de(be)?be.value=R:be=R),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ve(e(Oe))},[t("div",Cn,[t("div",Sn,[t("span",{class:"am-icon-arrow-left",onClick:M[1]||(M[1]=()=>de(T)?T.value=e(T)<=0?e(n).gallery.length-1:e(T)-1:T=e(T)<=0?e(n).gallery.length-1:e(T)-1)}),t("span",{class:"am-icon-arrow-right",onClick:M[2]||(M[2]=()=>de(T)?T.value=e(n).gallery.length-1===e(T)?0:e(T)+1:T=e(n).gallery.length-1===e(T)?0:e(T)+1)})]),(a(!0),i(te,null,me(e(n).gallery,(R,q)=>(a(),i("div",{key:q,class:"am-gd__display",style:ve({display:q===e(T)?"flex":"none"}),onClick:M[3]||(M[3]=()=>de(T)?T.value=e(n).gallery.length-1===e(T)?0:e(T)+1:T=e(n).gallery.length-1===e(T)?0:e(T)+1)},[t("img",{src:R.pictureFullPath,alt:q},null,8,xn)],4))),128))]),t("div",Pn,o(`${e(T)+1}/${e(n).gallery.length}`),1),t("div",Dn,[(a(!0),i(te,null,me(e(n).gallery,(R,q)=>(a(),i("div",{key:q,class:B(["am-gd__thumb",{"am-active":q===e(T)}]),style:ve({backgroundImage:`url(${R.pictureFullPath})`}),onClick:()=>de(T)?T.value=q:T=q},null,14,En))),128))])],4)]),_:1},8,["modelValue"]),e(N).packageDescription.visibility&&e(n).description||e(N).packageEmployees.visibility?(a(),i("div",Ln,[t("div",In,[e(n).description&&e(N).packageDescription.visibility?(a(),i("div",{key:0,class:B(["am-fcip__info-tab",{"am-active":e(f)==="description"}]),onClick:M[5]||(M[5]=()=>de(f)?f.value="description":f="description")},o(e(U).about_package),3)):p("",!0),e(N).packageEmployees.visibility?(a(),i("div",{key:1,class:B([{"am-active":e(f)==="employees"},"am-fcip__info-tab"]),onClick:M[6]||(M[6]=()=>de(f)?f.value="employees":f="employees")},o(e(U).tab_employees),3)):p("",!0)]),t("div",Tn,[e(n).description&&e(N).packageDescription.visibility?ut((a(),i("div",Bn,[t("div",{class:B(["am-fcip__info-service__desc",{"ql-description":e(n).description.includes("<!-- Content -->")}]),innerHTML:e(n).description},null,10,Fn)],512)),[[dt,e(f)==="description"]]):p("",!0),e(N).packageEmployees.visibility?ut((a(),i("div",zn,[W(ot,null,{default:A(()=>[(a(!0),i(te,null,me(e(J),R=>(a(),ye(ct,{key:R.id,side:""},{heading:A(()=>[t("div",An,[t("div",Rn,[W(Ye,{"item-class":"am-fcip__info-employee__img","item-data":R,"trim-string":3},null,8,["item-data"]),t("div",Mn,o(R.firstName)+" "+o(R.lastName),1)])])]),default:A(()=>[R.description?(a(),i("div",{key:0,class:B(["am-fcip__info-employee__description",{"ql-description":R.description.includes("<!-- Content -->")}]),innerHTML:R.description},null,10,On)):p("",!0)]),_:2},1024))),128))]),_:1})],512)),[[dt,e(f)==="employees"]]):p("",!0)])])):p("",!0),e(N).packageServices.visibility?(a(),i("div",Nn,[t("div",Vn,[t("span",Un,o(`${e(U).package_includes}:`),1)]),W(ot,null,{default:A(()=>[(a(!0),i(te,null,me(e(n).bookable,R=>(a(),ye(ct,{key:R.id,side:!0},{heading:A(()=>[t("div",Wn,[W(Ye,{"item-class":"am-fcip__include-service__img","item-data":R.service},null,8,["item-data"]),Se(" "+o(R.service.name+(e(n).sharedCapacity?"":" x"+R.quantity)),1)])]),default:A(()=>[t("div",jn,[t("span",null,o(`${e(U).tab_employees}:`),1),(a(!0),i(te,null,me($e(R).slice(0,6),q=>(a(),ye(Ye,{key:q.id,"item-class":"am-fcip__include-service__info-name","item-data":q,"trim-string":3},null,8,["item-data"]))),128)),$e(R).length>6?(a(),i("span",Hn," + "+o($e(R).length-6),1)):p("",!0),R.service.description?(a(),i("div",{key:1,class:B(["am-fcip__include-service__info-description",{"ql-description":R.service.description.includes("<!-- Content -->")}]),innerHTML:R.service.description},null,10,qn)):p("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Jn,[t("span",Gn,o(e(U).package_book_service),1)])])):p("",!0),W(it,{modelValue:e(Y),"onUpdate:modelValue":M[7]||(M[7]=R=>de(Y)?Y.value=R:Y=R),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Z),onClosed:xe},{default:A(()=>[W(Nt)]),_:1},8,["modelValue","width"])]),_:2},[e(c).package?void 0:{name:"header",fn:A(()=>[W(xt,{"btn-string":e(U).back_btn,"btn-type":e(N).backBtn.buttonType,onClick:se},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(w)?(a(),i("div",Qn,[t("img",{src:e(l).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Xn),t("div",Yn,o(e(U).oops),1),t("div",Zn,o(e(U).no_package_services),1),t("div",Kn,[t("a",eo,o(e(U).add_services_url)+"\xA0 ",1)])],512)):p("",!0)],64))}});const io={name:"CatalogSkeleton"},so=Object.assign(io,{setup(y){let g=k(null),_=k(0);window.addEventListener("resize",F);function F(){g.value&&(_.value=g.value.offsetWidth)}Ee(()=>{g.value&&(_.value=g.value.offsetWidth)});let v=$(()=>_.value<=500?"am-w100":_.value<=600?"am-w50":_.value<=768?"am-w33":"");return(l,s)=>{const c=ka,h=ba;return a(),i("div",{ref_key:"amSkeletonContainer",ref:g,class:"am-skeleton-catalog__wrapper"},[W(h,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(a(!0),i(te,null,me(new Array(8),d=>(a(),i("div",{key:d,class:B(["am-skeleton-catalog__item",e(v)])},[W(c,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const lo=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),no=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),oo=["href"],co={name:"CatalogFormWrapper"},ro=Object.assign(co,{setup(y){let g=x("licence"),_=k(null);const F=x("baseUrls");let v=k(0);X("containerWidth",v),window.addEventListener("resize",l);function l(){_.value&&(v.value=_.value.offsetWidth)}Ee(()=>{document.getElementById("amelia-v2-booking-"+h.value.counter).classList.add("amelia-v2-booking-"+h.value.counter+"-loaded"),at(d,{},"ViewContent","appointment",null,null),l()});let s=k(!1);const c=x("settings"),h=x("shortcodeData"),d=Ke();d.commit("entities/setPreselected",h.value),d.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],licence:g,loadEntities:window.ameliaShortcodeData.filter(m=>!m.hasApiCall).length===window.ameliaShortcodeData.length?!0:h.value.hasApiCall});const N=we(ti),he=we(cs),L=we(Xl),z=we(ao);let n=k([N,he]),T=k(0),f=k(null);X("categorySelected",f);let J=k([]);X("availableCategories",J);let b=k("");X("itemType",b),rt(b,()=>{b.value==="appointment"&&n.value.push(L),b.value==="package"&&n.value.push(z),b.value===""&&n.value.forEach((m,K)=>{m.name==="CategoryService"&&pe(n.value,K),m.name==="CategoryPackage"&&pe(n.value,K)})});function pe(m,K){m.splice(K,1)}function $e(){T.value=T.value+1,_.value.scrollIntoView({behavior:"smooth",block:"start"})}function w(){T.value=T.value-1}X("changingPageFunctions",{nextPage:$e,previousPage:w});let be=$(()=>d.getters["entities/getReady"]),ae=$(()=>d.state.entities);X("amEntities",ae);function se(){let m=d.getters["entities/getPreselected"];if(h.value.category&&(d.commit("booking/setCategoryId",parseInt(m.category)),f.value=parseInt(m.category),J.value=JSON.parse(JSON.stringify(ae.value.categories.filter(K=>K.id===parseInt(m.category)&&K.status==="visible"&&K.serviceList.length&&!!mt(K,ae.value).length))),Ce(()=>{let K=n.value.findIndex(ne=>ne.name==="CategoriesList");n.value.splice(K,1)})),h.value.service){d.commit("booking/setServiceId",parseInt(m.service));let K=d.getters["entities/getService"](parseInt(m.service));f.value=parseInt(m.category),d.commit("booking/setCategoryId",K?parseInt(K.categoryId):null),Ce(()=>{n.value=[],n.value.push(L)})}h.value.employee&&d.commit("booking/setEmployeeId",parseInt(m.employee)),h.value.location&&d.commit("booking/setLocationId",parseInt(m.location)),h.value.package&&(d.commit("booking/setPackageId",parseInt(m.package)),n.value=[],n.value.push(z)),h.value.show==="packages"?d.commit("booking/setBookableType","package"):d.commit("booking/setBookableType","appointment")}let Y=$(()=>be.value?$a(d,h.value):null);X("restoreFormData",Y),rt(be,m=>{m&&(se(),s.value=d.getters["entities/getServices"].length===0||d.getters["entities/getEmployees"].length===0,Y.value&&(b.value=d.state.booking.appointment.type,Ce(()=>{T.value=n.value.length-1,f.value=d.state.booking.appointment.categoryId})))});let Z=$(()=>c.customizedData&&"cbf"in c.customizedData?c.customizedData.cbf:Xe.cbf);X("customizedDataForm",Z);const G=k(c.customizedData?c.customizedData.fonts:Xe.fonts);X("amFonts",G);let j=$(()=>c.customizedData&&"cbf"in c.customizedData?c.customizedData.cbf.colors:Xe.cbf.colors);X("amColors",j);let re=$(()=>({"--am-c-primary":j.value.colorPrimary,"--am-c-success":j.value.colorSuccess,"--am-c-error":j.value.colorError,"--am-c-warning":j.value.colorWarning,"--am-c-main-bgr":j.value.colorMainBgr,"--am-c-main-heading-text":j.value.colorMainHeadingText,"--am-c-main-text":j.value.colorMainText,"--am-c-sb-bgr":j.value.colorSbBgr,"--am-c-sb-text":j.value.colorSbText,"--am-c-inp-bgr":j.value.colorInpBgr,"--am-c-inp-border":j.value.colorInpBorder,"--am-c-inp-text":j.value.colorInpText,"--am-c-inp-placeholder":j.value.colorInpPlaceHolder,"--am-c-drop-bgr":j.value.colorDropBgr,"--am-c-drop-text":j.value.colorDropText,"--am-c-card-bgr":j.value.colorCardBgr,"--am-c-card-text":j.value.colorCardText,"--am-c-card-border":j.value.colorCardBorder,"--am-c-btn-prim":j.value.colorBtnPrim,"--am-c-btn-prim-text":j.value.colorBtnPrimText,"--am-c-btn-sec":j.value.colorBtnSec,"--am-c-btn-sec-text":j.value.colorBtnSecText,"--am-c-skeleton-op20":ee(j.value.colorMainText,.2),"--am-c-skeleton-op60":ee(j.value.colorMainText,.6),"--am-font-family":G.value.fontFamily}));function ke(){let m=document.head||document.getElementsByTagName("head")[0];m.querySelector("#amCustomFont")&&m.querySelector("#amCustomFont").remove();let K=`@font-face {font-family: '${G.value.fontFamily}'; src: url(${G.value.fontUrl});}`,ne=document.createElement("style");m.appendChild(ne),ne.setAttribute("type","text/css"),ne.setAttribute("id","amCustomFont"),ne.appendChild(document.createTextNode(K))}G.value.customFontSelected&&ke();let xe=$(()=>({colorInputBorderRadius:"6px"}));return X("amDesignProperties",xe),(m,K)=>(a(),i(te,null,[G.value.customFontSelected?p("",!0):(a(),i(te,{key:0},[lo,no,t("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,oo)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:_,class:"am-fc__wrapper",style:ve(e(re))},[e(be)&&e(n).length?(a(),ye(Ft(e(n)[e(T)]),{key:0})):(a(),ye(so,{key:1}))],4)],64))}});var po=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"}));export{po as C,Ct as _,Ta as a,xt as b,Ye as c,Pt as d};
